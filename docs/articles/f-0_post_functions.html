<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>6.0) Beyond the three main analyses • actel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="6.0) Beyond the three main analyses">
<meta property="og:description" content="actel">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">actel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9027</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-0_workspace_requirements.html">1.0) Preparing your data</a>
    </li>
    <li>
      <a href="../articles/a-1_study_area.html">1.1) Structuring the study area</a>
    </li>
    <li>
      <a href="../articles/a-2_distances_matrix.html">1.2) Creating a distances matrix</a>
    </li>
    <li>
      <a href="../articles/a-3_preload.html">1.3) The preload() function</a>
    </li>
    <li>
      <a href="../articles/b-0_explore.html">2.0) explore()</a>
    </li>
    <li>
      <a href="../articles/b-1_explore_processes.html">2.1) Processes behind explore()</a>
    </li>
    <li>
      <a href="../articles/b-2_explore_results.html">2.2) Inspecting the explore() results</a>
    </li>
    <li>
      <a href="../articles/c-0_migration.html">3.0) migration()</a>
    </li>
    <li>
      <a href="../articles/c-1_migration_processes.html">3.1) Processes behind migration()</a>
    </li>
    <li>
      <a href="../articles/c-2_migration_results.html">3.2) Inspecting the migration() results</a>
    </li>
    <li>
      <a href="../articles/c-3_migration_efficiency.html">3.3) One-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/d-0_residency.html">4.0) residency()</a>
    </li>
    <li>
      <a href="../articles/d-1_residency_processes.html">4.1) Processes behind residency()</a>
    </li>
    <li>
      <a href="../articles/d-2_residency_results.html">4.2) Inspecting the residency() results</a>
    </li>
    <li>
      <a href="../articles/d-3_residency_efficiency.html">4.3) Multi-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/e-0_manual_mode.html">5.0) Manual mode</a>
    </li>
    <li>
      <a href="../articles/f-0_post_functions.html">6.0) Beyond the three main analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hugomflavio/actel/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>6.0) Beyond the three main analyses</h1>
                        <h4 class="author">Hugo Flávio</h4>
            
            <h4 class="date">2020-09-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hugomflavio/actel/blob/master/vignettes/f-0_post_functions.Rmd"><code>vignettes/f-0_post_functions.Rmd</code></a></small>
      <div class="hidden name"><code>f-0_post_functions.Rmd</code></div>

    </div>

    
    
<div id="index" class="section level2">
<h2 class="hasAnchor">
<a href="#index" class="anchor"></a>Index</h2>
<ol style="list-style-type: decimal">
<li>
<a href="a-0_workspace_requirements.html">Preparing your data</a>
<ol style="list-style-type: decimal">
<li><a href="a-1_study_area.html">Structuring the study area</a></li>
<li><a href="a-2_distances_matrix.html">Creating a distances matrix</a></li>
<li><a href="a-3_preload.html">The preload() function</a></li>
</ol>
</li>
<li>
<a href="b-0_explore.html">explore()</a>
<ol style="list-style-type: decimal">
<li><a href="b-1_explore_processes.html">Processes behind explore()</a></li>
<li><a href="b-2_explore_results.html">Inspecting the explore() results</a></li>
</ol>
</li>
<li>
<a href="c-0_migration.html">migration()</a>
<ol style="list-style-type: decimal">
<li><a href="c-1_migration_processes.html">Processes behind migration()</a></li>
<li><a href="c-2_migration_results.html">Inspecting the migration() results</a></li>
<li><a href="c-3_migration_efficiency.html">One-way efficiency estimations</a></li>
</ol>
</li>
<li>
<a href="d-0_residency.html">residency()</a>
<ol style="list-style-type: decimal">
<li><a href="d-1_residency_processes.html">Processes behind residency()</a></li>
<li><a href="d-2_residency_results.html">Inspecting the residency() results</a></li>
<li><a href="d-3_residency_efficiency.html">Multi-way efficiency estimations</a></li>
</ol>
</li>
<li><a href="e-0_manual_mode.html">Manual mode</a></li>
<li><a href="f-0_post_functions.html"><strong>Beyond the three main analyses</strong></a></li>
</ol>
</div>
<div id="expanding-on-what-actel-can-give-you" class="section level2">
<h2 class="hasAnchor">
<a href="#expanding-on-what-actel-can-give-you" class="anchor"></a>Expanding on what actel can give you</h2>
<p>First of all, congratulations! If you are reading this page, you must have successfully ran an actel analysis on your data. I hope you have found the results useful :)</p>
<p>Here you will find some additional examples of things you can do using the output of your analysis. As actel connects to other packages and expands its capacities, so will this page. Because the page is getting a bit long already, here is a list of the subsections you will find here:</p>
<ol style="list-style-type: decimal">
<li><a href="#calculating-utilization-distribution-areas-and-space-use-overlaps">Utilization distribution areas</a></li>
<li><a href="#calculating-efficiency-ranges">Calculating efficiency ranges</a></li>
<li><a href="#plotting-personalised-circular-plots">Plotting personalised circular plots</a></li>
<li><a href="#plotting-personalised-detection-plots">Plotting personalised detection plots</a></li>
<li><a href="#plotting-sensor-data-for-individual-tags">Plotting sensor data for individual tags</a></li>
<li><a href="#plotting-movements-for-multiple-tags-at-the-same-time">Plotting movements for multiple tags at the same time</a></li>
<li><a href="#extracting-detailed-array-level-movement-speeds">Extracting detailed array-level movement speeds</a></li>
<li><a href="#simultaneous-and-cumulative-presence-at-one-or-more-arrays">Simultaneous and cumulative presence at one or more arrays</a></li>
<li><a href="#plotting-individual-residency-for-individual-tags">Plotting individual residency for individual tags</a></li>
<li><a href="#plotting-global-and-group-residency">Plotting global (and group) residency!</a></li>
<li><a href="#what-would-you-like-to-see-here">What would you like to see here?</a></li>
</ol>
</div>
<div id="calculating-utilization-distribution-areas-and-space-use-overlaps" class="section level2">
<h2 class="hasAnchor">
<a href="#calculating-utilization-distribution-areas-and-space-use-overlaps" class="anchor"></a>Calculating utilization distribution areas and space-use overlaps</h2>
<p>The R package RSP (<a href="https://github.com/YuriNiella/RSP#rsp">available here</a>) allows you to run spatial analyses on the habitat use of your animals using the output of your actel analysis. With the RSP toolkit you can analyse the fine scale movements of aquatic animals while accounting for the surrounding land masses. The animal movements between detections are recreated to have occurred exclusively in water and the utilization distribution areas are limited by the land contours, providing realistic estimations of space use.</p>
<p>Depending on the research questions being addressed the utilization distribution areas can be calculated for the entire monitoring periods, or in fine-scale according to fixed temporal intervals in hours (timeframes). This approach allows spatial ecologists to use the outputs from such fine scale space use models (areas of use, or between-group overlap frequencies) as input for further statistical analysis.</p>
<p>This is a great R package, so make sure to go check it out!</p>
</div>
<div id="calculating-efficiency-ranges" class="section level2">
<h2 class="hasAnchor">
<a href="#calculating-efficiency-ranges" class="anchor"></a>Calculating efficiency ranges</h2>
<p>Both the <code>migration</code> and the <code>residency</code> analyses include efficiency calculations. However, these calculations can sometimes be somewhat limited. To get a better idea of your array efficiencies, you can run the function <code>advEfficiency</code> on the efficiency outputs of your actel analysis.</p>
<p>Let us assume that you have stored the results of your analysis in an object called <code>results</code> (i.e. you ran <code>results &lt;- migration(...)</code> or <code>results &lt;- residency(...)</code>).</p>
<p>You can run <code>advEfficiency</code> on three different contexts:</p>
<ol style="list-style-type: decimal">
<li>On the progression results from the migration analysis:</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="co"># Run estimation on the overall detections</span>
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">results</span><span class="op">$</span><span class="kw">overall.CJS</span>)

<span class="co"># Run estimation on the detections for a specific group</span>
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">results</span><span class="op">$</span><span class="kw">group.overview</span><span class="op">$</span><span class="kw">name</span>)
<span class="co"># Replace "name" with the actual name of the group.</span>

<span class="co"># Run estimation on the detections for a specific group from a specific release site</span>
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">results</span><span class="op">$</span><span class="kw">release.overview</span><span class="op">$</span><span class="kw">A.B</span>) 
<span class="co"># Replace "A" with the group name and "B" with the name of the release site.</span>
</pre></div>
<ol start="2" style="list-style-type: decimal">
<li>On the efficiency results from the residency analysis:</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="co"># advEfficiency will estimate both the maximum and minimum efficiency.</span>
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">results</span><span class="op">$</span><span class="kw">efficiency</span>)

<span class="co"># additionally, you can choose how these are plotted by manipulating </span>
<span class="co"># the 'paired' and 'force.grid' arguments, e.g.:</span>
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">results</span><span class="op">$</span><span class="kw">efficiency</span>, paired = <span class="fl">TRUE</span>, force.grid = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">4</span>))
</pre></div>
<ol start="3" style="list-style-type: decimal">
<li>On the efficiency results from an intra-array estimation:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">results</span><span class="op">$</span><span class="kw">intra.array.CJS</span><span class="op">$</span><span class="kw">name</span>)
<span class="co"># Replace "name" with the name of the array for which the intra-array efficiency was calculated.</span>
</pre></div>
<p><strong>Bonus case:</strong> If you want to know intra-array estimations for a specific group, you can adapt and run the code below:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="co"># Fetch the detection matrix for the intra array estimate </span>
<span class="co"># (replace "name" with the actual name of the array)</span>
<span class="kw">m</span> <span class="op">&lt;-</span> <span class="kw">results</span><span class="op">$</span><span class="kw">intra.array.matrices</span><span class="op">$</span><span class="kw">name</span>

<span class="co"># Fetch the signals of the tags of the group you are interest in </span>
<span class="co"># (replace "group_name" with the name of the group)</span>
<span class="kw">tags</span> <span class="op">&lt;-</span> <span class="kw">results</span><span class="op">$</span><span class="kw">status.df</span><span class="op">$</span><span class="kw">Signal</span>[<span class="kw">results</span><span class="op">$</span><span class="kw">status.df</span><span class="op">$</span><span class="kw">Group</span> <span class="op">==</span> <span class="st">"group_name"</span>]

<span class="co"># Extract only the matrix rows that match the target group</span>
<span class="kw">m</span> <span class="op">&lt;-</span> <span class="kw">x</span>[<span class="fu"><a href="https://rdrr.io/r/base/match.html">match</a></span>(<span class="kw">tags</span>, <span class="fu"><a href="../reference/stripCodeSpaces-deprecated.html">stripCodeSpaces</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span>(<span class="kw">m</span>))), ]

<span class="co"># Remove any NA leftovers</span>
<span class="kw">m</span> <span class="op">&lt;-</span> <span class="kw">m</span>[<span class="fu"><a href="https://rdrr.io/r/stats/complete.cases.html">complete.cases</a></span>(<span class="kw">m</span>), ]

<span class="co"># Re-calculate the intra-array CJS</span>
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dualArrayCJS.html">dualArrayCJS</a></span>(<span class="kw">m</span>)

<span class="co"># Run advEfficiency on the new results</span>
<span class="fu"><a href="../reference/advEfficiency.html">advEfficiency</a></span>(<span class="kw">x</span>)
</pre></div>
<p><code>advEfficiency</code> comes with some additional parameters that will help you get the results exactly as you need them. Find more by running <code><a href="../reference/advEfficiency.html">?advEfficiency</a></code>. The advEfficiency manual page also includes additional information on how the calculations are made, and how you could explain them in a paper, if you need to!</p>
</div>
<div id="plotting-personalised-circular-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-personalised-circular-plots" class="anchor"></a>Plotting personalised circular plots</h2>
<p>Circular plots are a great way to display your results in a publication. Examples include differences between groups or between arrival points at different places. Although actel provides circular plots with its analyses, these default plots may not be exactly what you are looking for. As such, I created the function <code>plotTimes</code>, to help you get your plot just right.</p>
<p>You can prepare the input for plotTimes by using two other functions (which may also be useful on their own): <code>getTimes</code> and <code>timesToCircular</code>.</p>
<p>For example, if you want to plot the arrival times for all your tags at two arrays:</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel analysis as 'results',</span>
<span class="co"># you can use getTimes to extract the times you want. You can specify</span>
<span class="co"># which locations you are interested in with the argument locations.</span>
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getTimes.html">getTimes</a></span>(<span class="kw">results</span>, locations = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A"</span>, <span class="st">"B"</span>))

<span class="co"># Then, convert the times to a circular object</span>
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/timesToCircular.html">timesToCircular</a></span>(<span class="kw">x</span>)

<span class="co"># and plot it!</span>
<span class="fu"><a href="../reference/plotTimes.html">plotTimes</a></span>(<span class="kw">x</span>)

<span class="co"># You can include a night period by using the night argument, e.g.:</span>
<span class="fu"><a href="../reference/plotTimes.html">plotTimes</a></span>(<span class="kw">x</span>, night = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"20:00"</span>, <span class="st">"06:00"</span>))
</pre></div>
<p>This will plot two data series (one for array “A” and one for array “B”), with all the tags pooled together.</p>
<p>However, if you want to plot the arrival times at a specific array per group, you could do the following:</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getTimes.html">getTimes</a></span>(<span class="kw">results</span>, locations = <span class="st">"A"</span>)
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/timesToCircular.html">timesToCircular</a></span>(<span class="kw">x</span>, by.group = <span class="fl">TRUE</span>)
<span class="fu"><a href="../reference/plotTimes.html">plotTimes</a></span>(<span class="kw">x</span>)

<span class="co"># You can change the names on the legend by changing the</span>
<span class="co"># names of object 'x' (run 'names(x)' to see them).</span>
</pre></div>
<p>This will plot each group that arrived at array “A” in a different colour.</p>
<p>You can then choose the combination that makes more sense for the point you are trying to prove. Additionally, plotTimes allows you to shade a portion of the graphic to highlight the night period, and comes with a series of other arguments that allow you to personalise your plot until it is on point (see <code><a href="../reference/plotTimes.html">?plotTimes</a></code> for more details).</p>
<p><strong>Bonus case:</strong> You can combine time data from multiple analyses. For example, if you ran your study during two years, you can plot the arrival times at a given array for both years and see if there is any variation.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="co"># Load the results from both years:</span>
<span class="kw">y1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataToList.html">dataToList</a></span>(<span class="st">"actel_migration_results_year1.RData"</span>)
<span class="kw">y2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/dataToList.html">dataToList</a></span>(<span class="st">"actel_migration_results_year2.RData"</span>)

<span class="co"># extract the time data for a specific array:</span>
<span class="kw">x1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getTimes.html">getTimes</a></span>(<span class="kw">y1</span>, locations = <span class="st">"A"</span>)
<span class="kw">x2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/getTimes.html">getTimes</a></span>(<span class="kw">y2</span>, locations = <span class="st">"A"</span>)

<span class="co"># Convert the times to circular, and combine them in a single list</span>
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(
  year.1 = <span class="fu"><a href="../reference/timesToCircular.html">timesToCircular</a></span>(<span class="kw">x1</span>)[[<span class="fl">1</span>]],
  year.2 = <span class="fu"><a href="../reference/timesToCircular.html">timesToCircular</a></span>(<span class="kw">x2</span>)[[<span class="fl">1</span>]])
<span class="co"># The names you choose for each object above will be used in the plot legend,</span>
<span class="co"># for example, in this plot, the legend would read "year.1" and "year.2".</span>

<span class="co"># plot both years together!</span>
<span class="fu"><a href="../reference/plotTimes.html">plotTimes</a></span>(<span class="kw">x</span>)

<span class="co"># You can also choose your own colours, and even give it a title:</span>
<span class="fu"><a href="../reference/plotTimes.html">plotTimes</a></span>(<span class="kw">x</span>, col = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"blue"</span>, <span class="st">"orange"</span>), title = <span class="st">"A plot of two datasets!"</span>)
</pre></div>
<p>You can expand on the example above to plot different groups too. Once you have finished your plot, you can save it to an svg file by adding a name to the ‘file’ argument.</p>
</div>
<div id="plotting-personalised-detection-plots" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-personalised-detection-plots" class="anchor"></a>Plotting personalised detection plots</h2>
<p>Detection plots provide a lot of information. However, the default plots printed in the reports may be to small to analyse, or perhaps you would like to edit them to use in a presentation or paper. <code><a href="../reference/plotDetections.html">plotDetections()</a></code> is the function you are looking for.</p>
<div class="sourceCode" id="cb8"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel analysis as 'results',</span>
<span class="co"># you can then plot the detections for single individuals. Imagine</span>
<span class="co"># you want to see tag 'R64K-1995'. You can run:</span>
<span class="fu"><a href="../reference/plotDetections.html">plotDetections</a></span>(<span class="kw">results</span>, tag = <span class="st">"R64K-1995"</span>)

<span class="co"># plotMoves comes with some additional personalisation arguments,</span>
<span class="co"># such as title, or array.alias. array.alias allows you to replace</span>
<span class="co"># default name of an array with a name of your choosing, e.g.:</span>
<span class="fu"><a href="../reference/plotDetections.html">plotDetections</a></span>(<span class="kw">results</span>, tag = <span class="st">"R64K-1995"</span>, array.alias = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"River1"</span> = <span class="st">"My_first_array"</span>))

<span class="co"># additionally, if you give the same name to multiple arrays, they</span>
<span class="co"># will be combined automatically! e.g.:</span>
<span class="fu"><a href="../reference/plotDetections.html">plotDetections</a></span>(<span class="kw">results</span>, tag = <span class="st">"R64K-1995"</span>, array.alias = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"River1"</span> = <span class="st">"River"</span>, <span class="st">"River2"</span> = <span class="st">"River"</span>))

<span class="co"># You can find all the details about plotDetections arguments by running</span>
<span class="op">?</span><span class="kw">plotDetections</span>

<span class="co"># plotDetections returns a ggplot object, which means you can edit it further!</span>
<span class="co"># Very simple example:</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="http://ggplot2.tidyverse.org">ggplot2</a></span>)
<span class="kw">p</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plotDetections.html">plotDetections</a></span>(<span class="kw">results</span>, tag = <span class="st">"R64K-1995"</span>)
<span class="kw">p</span> <span class="op">&lt;-</span> <span class="kw">p</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">xlab</a></span>(<span class="st">"changing the label after running plotDetections is possible!"</span>)
<span class="kw">p</span>

<span class="co"># Of course, you can also save your new plots using ggsave.</span>
</pre></div>
</div>
<div id="plotting-sensor-data-for-individual-tags" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-sensor-data-for-individual-tags" class="anchor"></a>Plotting sensor data for individual tags</h2>
<p>When your tags have sensor data, these data will be automatically plotted in the report (just like the detections). However, similarly to <code><a href="../reference/plotDetections.html">plotDetections()</a></code>, you can use <code><a href="../reference/plotSensors.html">plotSensors()</a></code> to plot the sensor data for a specific tag.</p>
<div class="sourceCode" id="cb9"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel analysis as 'results',</span>
<span class="co"># you can then plot the sensor data for single individuals. For example:</span>
<span class="fu"><a href="../reference/plotSensors.html">plotSensors</a></span>(<span class="kw">results</span>, tag = <span class="st">"R64K-1995"</span>)

<span class="co"># You can also choose to plot only some of the sensors by selecting</span>
<span class="co"># a specific unit with the 'sensor' argument!</span>
</pre></div>
</div>
<div id="plotting-movements-for-multiple-tags-at-the-same-time" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-movements-for-multiple-tags-at-the-same-time" class="anchor"></a>Plotting movements for multiple tags at the same time</h2>
<p>Sometimes it can be useful to compare the movements of multiple tags at the same time. Comparing individual detection plots works, but being able to overlap plots would be much nicer! That’s exactly why I created the <code><a href="../reference/plotMoves.html">plotMoves()</a></code> function. This function allows you to overlap the movements of multiple tags.</p>
<div class="sourceCode" id="cb10"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel analysis as 'results',</span>
<span class="co"># you can then plot the moves of multiple tags by running:</span>
<span class="fu"><a href="../reference/plotMoves.html">plotMoves</a></span>(<span class="kw">results</span>, tags = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"R64K-1995"</span>, <span class="st">"R64K-2001"</span>))

<span class="co"># If you get any tag number wrong, actel will let you know.</span>
</pre></div>
</div>
<div id="extracting-detailed-array-level-movement-speeds" class="section level2">
<h2 class="hasAnchor">
<a href="#extracting-detailed-array-level-movement-speeds" class="anchor"></a>Extracting detailed array-level movement speeds</h2>
<p>If you have included a valid distances matrix in your analysis, then there is a lot of valuable information scattered throughout the tag movements. While this information is summarised at the section level in the <code>status.df</code> object (for <code><a href="../reference/migration.html">migration()</a></code> and <code><a href="../reference/residency.html">residency()</a></code> analyses), maybe you would like to have a look at the event-to-event values. To avoid having to go through each movement table individually, you can use the function <code><a href="../reference/getSpeeds.html">getSpeeds()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit">
<span class="co"># As usual, lets assume you saved the output of an actel analysis as 'results'.</span>

<span class="co"># Running getSpeeds on the results will return all the recorded speeds, for</span>
<span class="co"># every animal.</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>)

<span class="co"># However, you can trim this output by using the remaining arguments in getSpeeds().</span>

<span class="co"># For example, return only the speeds between neighbouring arrays by using:</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>)

<span class="co"># This will only return speeds when the respective movement did not imply</span>
<span class="co"># skipping an ALS array.</span>

<span class="co"># You can further trim these results by choosing only events in a specific direction:</span>

<span class="co"># To display only speeds in a forward direction (as specified by the study area structure)</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>, type = <span class="st">"forward"</span>)

<span class="co"># Or only in the backwards direction</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>, type = <span class="st">"backward"</span>)

<span class="co"># The default is "all"</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>, type = <span class="st">"all"</span>)

<span class="co"># A little side note on directions: </span>
<span class="co"># If you stated in the spatial.txt file that "A -- B", then A is considered to </span>
<span class="co"># come before B, and thus a movement from A to B is a forward movement.</span>
<span class="co"># Consequently a movement from B to A is considered a backwards movement.</span>
<span class="co">#</span>
<span class="co"># Note that movements between parallel arrays are not forward nor backward,</span>
<span class="co"># and the respective speeds will only be displayed if type = "all".</span>

<span class="co"># Finally, you can choose how many events per tag you want to see:</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>, type = <span class="st">"all"</span>, n.events = <span class="st">"first"</span>) <span class="co"># default</span>
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>, type = <span class="st">"all"</span>, n.events = <span class="st">"all"</span>)
<span class="fu"><a href="../reference/getSpeeds.html">getSpeeds</a></span>(<span class="kw">results</span>, direct = <span class="fl">TRUE</span>, type = <span class="st">"all"</span>, n.events = <span class="st">"last"</span>)

<span class="co"># The n.events controls how many instances of a specific movement event you would like to see.</span>
<span class="co"># If a tag moved twice from A to B, "first" will return only the first speed, "last" will</span>
<span class="co"># return only the last speed, and "all" will return both.</span>
<span class="co"># Note that moving from A to B is not the same as moving from B to A, and both will be treated</span>
<span class="co"># separately by getSpeeds.</span>
</pre></div>
<p>Because speeds have many underlying variables (from where, to where, which tag, etc.), there is no pre-made plot function for speeds. However, the output of <code><a href="../reference/getSpeeds.html">getSpeeds()</a></code> is structured in a way that should make it easy for you to jump to ggplot2 and start drawing your plots, your way :)</p>
</div>
<div id="simultaneous-and-cumulative-presence-at-one-or-more-arrays" class="section level2">
<h2 class="hasAnchor">
<a href="#simultaneous-and-cumulative-presence-at-one-or-more-arrays" class="anchor"></a>Simultaneous and cumulative presence at one or more arrays</h2>
<p>A classic plot in migration analyses is one showing the cumulative arrival of tags at a specific array. The function <code><a href="../reference/plotArray.html">plotArray()</a></code> allows you to obtain both the simultaneous presence at an array (if <code>cumulative = FALSE</code>, the default), or the cumulative arrivals at an array (yes, you guessed it, with <code>cumulative = TRUE</code>).</p>
<div class="sourceCode" id="cb12"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel analysis as 'results',</span>
<span class="co"># you can then use plotArray to see the simultaneous or cumulative</span>
<span class="co"># presence at one or more arrays:</span>
<span class="fu"><a href="../reference/plotArray.html">plotArray</a></span>(<span class="kw">results</span>, arrays = <span class="st">"A1"</span>, cumulative = <span class="fl">FALSE</span>) <span class="co"># will give you the simultaneous presence</span>
<span class="fu"><a href="../reference/plotArray.html">plotArray</a></span>(<span class="kw">results</span>, arrays = <span class="st">"A1"</span>, cumulative = <span class="fl">TRUE</span>) <span class="co"># will give you the cumulative arrivals</span>

<span class="co"># additionally, you can adjust the time resolution:</span>
<span class="fu"><a href="../reference/plotArray.html">plotArray</a></span>(<span class="kw">results</span>, arrays = <span class="st">"A1"</span>, timestep = <span class="st">"days"</span>) <span class="co"># The default; will aggregate the results by day</span>
<span class="fu"><a href="../reference/plotArray.html">plotArray</a></span>(<span class="kw">results</span>, arrays = <span class="st">"A1"</span>, timestep = <span class="st">"hours"</span>) <span class="co"># Will aggregate the results by hour (takes longer to calculate)</span>
<span class="fu"><a href="../reference/plotArray.html">plotArray</a></span>(<span class="kw">results</span>, arrays = <span class="st">"A1"</span>, timestep = <span class="st">"mins"</span>) <span class="co"># Will aggregate the results by minute (takes way longer to calculate!)</span>

<span class="co"># Finally, although plotArrays will automatically choose between</span>
<span class="co"># plotting lines or bars depending on whether the plot is cumulative</span>
<span class="co"># or not (respectively), you can set a specific plot style with the</span>
<span class="co"># argument 'type'.</span>
</pre></div>
<p>One additional feature of this function is that it allows you to group multiple arrays to obtain combined results! Imagine you had two success arrays: A8 and A9. You can get an aggregated result by running:</p>
<div class="sourceCode" id="cb13"><pre class="downlit">
<span class="fu"><a href="../reference/plotArray.html">plotArray</a></span>(<span class="kw">results</span>, arrays = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"A8"</span>, <span class="st">"A9"</span>))
</pre></div>
</div>
<div id="plotting-individual-residency-for-individual-tags" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-individual-residency-for-individual-tags" class="anchor"></a>Plotting individual residency for individual tags</h2>
<p>When you run a residency analysis, one of the outputs is the individual places where your animal spent most of its time. Like the individual detection plots, these are also drawn automatically for each tag in your report. And like the detection plots, you can also get these ones directly in R! Just use <code><a href="../reference/plotResidency.html">plotResidency()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel residency analysis as 'results',</span>
<span class="co"># you can then plot the residency for single individuals. Imagine you want </span>
<span class="co"># to see tag 'R64K-1995'. You can run:</span>
<span class="fu"><a href="../reference/plotResidency.html">plotResidency</a></span>(<span class="kw">results</span>, tag = <span class="st">"R64K-1995"</span>)

<span class="co"># As usual, you can save the output of plotResidency as an object, and edit</span>
<span class="co"># it as needed using ggplot commands.</span>
</pre></div>
<p>Remember, you can always access the numerical data behind these plots by inspecting the object <code>time.ratios</code>.</p>
</div>
<div id="plotting-global-and-group-residency" class="section level2">
<h2 class="hasAnchor">
<a href="#plotting-global-and-group-residency" class="anchor"></a>Plotting global (and group) residency!</h2>
<p>Another great output from the residency analysis is the global and group residency ratios (through the objects <code>global.ratios</code> and <code>group.ratios</code>). The function <code><a href="../reference/plotRatios.html">plotRatios()</a></code> allows you to plot either of these metrics! This function comes with an argument ‘group’. If you do not set a ‘group’, the global ratios will be printed, but if you set a group, then only that group will be plotted. Additionally, you can choose between absolute values (number of animals at each section) and percentage values (proportion of animals at each section), using the argument type.</p>
<div class="sourceCode" id="cb15"><pre class="downlit">
<span class="co"># Assuming you saved the output of an actel residency analysis as 'results',</span>
<span class="co"># you can then plot the global ratios:</span>
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>) <span class="co"># this prints the absolute values</span>
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>, type = <span class="st">"percentages"</span>) <span class="co"># this prints the percentage values</span>

<span class="co"># You can then make these plots only for a specific group, using the group</span>
<span class="co"># argument, e.g.:</span>
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>, group = <span class="st">"A"</span>)
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>, group = <span class="st">"B"</span>, type = <span class="st">"percentages"</span>)

<span class="co"># As usual, you can save the output of plotRatios as an object, and edit</span>
<span class="co"># it as needed using ggplot commands.</span>
</pre></div>
<p>You can also plot the multiple groups simultaneously for a subset of sections using the ‘sections’ argument!</p>
<div class="sourceCode" id="cb16"><pre class="downlit">
<span class="co"># For example, if I wanted to know how many animals were in section "River"</span>
<span class="co"># during the study period, I could run:</span>
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>, sections = <span class="st">"River"</span>)

<span class="co"># or, for the percentage of tags from each group, run:</span>
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>, sections = <span class="st">"River"</span>, type = <span class="st">"percentages"</span>)

<span class="co"># Keep in mind that you cannot use the arguments 'group' and 'sections' at the same time!</span>
<span class="co"># But you can see aggregated results for multiple sections, e.g.:</span>
<span class="fu"><a href="../reference/plotRatios.html">plotRatios</a></span>(<span class="kw">results</span>, sections = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"River"</span>, <span class="st">"River-Fjord"</span>, <span class="st">"Fjord"</span>), type = <span class="st">"percentages"</span>)
</pre></div>
</div>
<div id="what-would-you-like-to-see-here" class="section level2">
<h2 class="hasAnchor">
<a href="#what-would-you-like-to-see-here" class="anchor"></a>What would you like to see here?</h2>
<p>actel is a work in progress. Is there any anything you would like to do or see in your data that is missing? Have you though of any cool function for actel? <a href="mailto:hdmfla@aqua.dtu.dk">Get in touch!</a></p>
<p>I hope you enjoy using actel!</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hugo Flávio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
