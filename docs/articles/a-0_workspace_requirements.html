<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1.0) Preparing your data • actel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="1.0) Preparing your data">
<meta property="og:description" content="actel">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">actel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9027</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-0_workspace_requirements.html">1.0) Preparing your data</a>
    </li>
    <li>
      <a href="../articles/a-1_study_area.html">1.1) Structuring the study area</a>
    </li>
    <li>
      <a href="../articles/a-2_distances_matrix.html">1.2) Creating a distances matrix</a>
    </li>
    <li>
      <a href="../articles/a-3_preload.html">1.3) The preload() function</a>
    </li>
    <li>
      <a href="../articles/b-0_explore.html">2.0) explore()</a>
    </li>
    <li>
      <a href="../articles/b-1_explore_processes.html">2.1) Processes behind explore()</a>
    </li>
    <li>
      <a href="../articles/b-2_explore_results.html">2.2) Inspecting the explore() results</a>
    </li>
    <li>
      <a href="../articles/c-0_migration.html">3.0) migration()</a>
    </li>
    <li>
      <a href="../articles/c-1_migration_processes.html">3.1) Processes behind migration()</a>
    </li>
    <li>
      <a href="../articles/c-2_migration_results.html">3.2) Inspecting the migration() results</a>
    </li>
    <li>
      <a href="../articles/c-3_migration_efficiency.html">3.3) One-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/d-0_residency.html">4.0) residency()</a>
    </li>
    <li>
      <a href="../articles/d-1_residency_processes.html">4.1) Processes behind residency()</a>
    </li>
    <li>
      <a href="../articles/d-2_residency_results.html">4.2) Inspecting the residency() results</a>
    </li>
    <li>
      <a href="../articles/d-3_residency_efficiency.html">4.3) Multi-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/e-0_manual_mode.html">5.0) Manual mode</a>
    </li>
    <li>
      <a href="../articles/f-0_post_functions.html">6.0) Beyond the three main analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hugomflavio/actel/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>1.0) Preparing your data</h1>
                        <h4 class="author">Hugo Flávio</h4>
            
            <h4 class="date">2020-09-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hugomflavio/actel/blob/master/vignettes/a-0_workspace_requirements.Rmd"><code>vignettes/a-0_workspace_requirements.Rmd</code></a></small>
      <div class="hidden name"><code>a-0_workspace_requirements.Rmd</code></div>

    </div>

    
    
<div id="index" class="section level2">
<h2 class="hasAnchor">
<a href="#index" class="anchor"></a>Index</h2>
<ol style="list-style-type: decimal">
<li>
<a href="a-0_workspace_requirements.html"><strong>Preparing your data</strong></a>
<ol style="list-style-type: decimal">
<li><a href="a-1_study_area.html">Structuring the study area</a></li>
<li><a href="a-2_distances_matrix.html">Creating a distances matrix</a></li>
<li><a href="a-3_preload.html">The preload() function</a></li>
</ol>
</li>
<li>
<a href="b-0_explore.html">explore()</a>
<ol style="list-style-type: decimal">
<li><a href="b-1_explore_processes.html">Processes behind explore()</a></li>
<li><a href="b-2_explore_results.html">Inspecting the explore() results</a></li>
</ol>
</li>
<li>
<a href="c-0_migration.html">migration()</a>
<ol style="list-style-type: decimal">
<li><a href="c-1_migration_processes.html">Processes behind migration()</a></li>
<li><a href="c-2_migration_results.html">Inspecting the migration() results</a></li>
<li><a href="c-3_migration_efficiency.html">One-way efficiency estimations</a></li>
</ol>
</li>
<li>
<a href="d-0_residency.html">residency()</a>
<ol style="list-style-type: decimal">
<li><a href="d-1_residency_processes.html">Processes behind residency()</a></li>
<li><a href="d-2_residency_results.html">Inspecting the residency() results</a></li>
<li><a href="d-3_residency_efficiency.html">Multi-way efficiency estimations</a></li>
</ol>
</li>
<li><a href="e-0_manual_mode.html">Manual mode</a></li>
<li><a href="f-0_post_functions.html">Beyond the three main analyses</a></li>
</ol>
</div>
<div id="preparing-your-data" class="section level2">
<h2 class="hasAnchor">
<a href="#preparing-your-data" class="anchor"></a>Preparing your data</h2>
<p>Actel requires that you organise your input files in a specific fashion. Critically, you should have a file named <strong>biometrics.csv</strong>, one named <strong>spatial.csv</strong>, and one named <strong>deployments.csv</strong> (we will look into the file contents in detail soon). Finally, you also need a <strong>detections directory</strong>, containing all your detection files in <em>.csv</em> format.</p>
<p>To create a blank workspace ready to be used, run <code><a href="../reference/createWorkspace.html">createWorkspace()</a></code>, and a template will be generated automatically in an “actel_workspace” directory. If you would like to, you can change the name of the target directory by using the argument <code>dir</code>. Remember to delete the example rows before including your data!</p>
<hr>
<dl>
<dt>Note for advanced R users:</dt>
<dd>You can now run actel analyses using R objects as an input, rather than input files.
</dd>
<dd>Read more about it <a href="a-3_preload.html">in this dedicated page.</a>
</dd>
</dl>
<hr>
</div>
<div id="biometrics-file" class="section level2">
<h2 class="hasAnchor">
<a href="#biometrics-file" class="anchor"></a>Biometrics file</h2>
<p>Your biometrics file should look similar to this:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Release.date</th>
<th align="left">Serial.nr</th>
<th align="right">Signal</th>
<th align="right">Length.mm</th>
<th align="right">Weight.g</th>
<th align="left">Group</th>
<th align="left">Release.site</th>
<th align="left">…</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2018-02-01 10:05:00</td>
<td align="left">12340001</td>
<td align="right">1</td>
<td align="right">150</td>
<td align="right">40</td>
<td align="left">Wild</td>
<td align="left">Site A</td>
<td align="left">…</td>
</tr>
<tr class="even">
<td align="left">2018-02-01 10:10:00</td>
<td align="left">A12-3456-1001</td>
<td align="right">1001</td>
<td align="right">160</td>
<td align="right">60</td>
<td align="left">Hatchery</td>
<td align="left">Site A</td>
<td align="left">…</td>
</tr>
<tr class="odd">
<td align="left">2018-02-01 10:15:00</td>
<td align="left">19340301</td>
<td align="right">301</td>
<td align="right">170</td>
<td align="right">50</td>
<td align="left">Wild</td>
<td align="left">Site B</td>
<td align="left">…</td>
</tr>
</tbody>
</table>
<p>Although the column order is not important, it is essential that this table contains two columns:</p>
<dl>
<dt>Release.date</dt>
<dd>Corresponds to the date and time when the animal was released, and <strong>must</strong> be typed in <strong>yyyy-mm-dd hh:mm:ss</strong> format. Note that the timestamps must be in the <strong>local time zone</strong> of the study area, which you will later supply in the <code>tz</code> argument.
</dd>
<dt>Signal</dt>
<dd>Corresponds to the code emitted by your tags. If you are unsure as to what signals are, you should ask the tag manufacturer more about the differences between code spaces and signals.
</dd>
</dl>
<p>The <strong>Group</strong> and <strong>Release.site</strong> columns are also important but, if you only have one group or one release site, actel can generate these columns for you. If this happens, you will receive a message:</p>
<pre><code>M: No Release site has been indicated in the biometrics file. Creating a 'Release.site' column to avoid script failure. Filling with 'unspecified'.
M: No 'Group' column found in the biometrics file. Assigning all animals to group 'All'.</code></pre>
<dl>
<dt>Note:</dt>
<dd>You can append as many columns as you want to <strong>biometrics.csv</strong>. Importantly, if the biometrics have columns with keywords such as <em>length</em>, <em>weight</em> or <em>mass</em>, graphics showing the distribution of these parameters per animal group will be drawn for you in the report.
</dd>
</dl>
<div id="tags-with-sensors" class="section level3">
<h3 class="hasAnchor">
<a href="#tags-with-sensors" class="anchor"></a>Tags with sensors</h3>
<p>Tags with single or multiple sensors (and multiple signals) can be listed in the biometrics file. If you have a tag that emits more than one signal, simply list both signals separated with “|” in the “Signal” column. Additionally, you can specify the respective sensor units by creating a new “Sensor.unit” column (only the first letter is capitalised), and including the units being recorded by each signal separated with a “|”. You can name your sensor units in whichever way you prefer, as long as you separate them with a single “|”. If your tag has three or more sensors, simply add the signals and respective sensor units separated with additional “|”’s.</p>
<p>If your tag only has one sensor, list it as usual in the signal column and, if you want to personalise the sensor unit name, include it also in the “Sensor.unit” column.</p>
<p>For example:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Release.date</th>
<th align="left">Signal</th>
<th align="left">Sensor.unit</th>
<th align="right">Length.mm</th>
<th align="right">Weight.g</th>
<th align="left">Group</th>
<th align="left">Release.site</th>
<th align="left">…</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2018-02-01 10:05:00</td>
<td align="left">501</td>
<td align="left">T</td>
<td align="right">150</td>
<td align="right">40</td>
<td align="left">Wild</td>
<td align="left">Site A</td>
<td align="left">…</td>
</tr>
<tr class="even">
<td align="left">2018-02-01 10:15:00</td>
<td align="left">502|503</td>
<td align="left">T|D</td>
<td align="right">160</td>
<td align="right">60</td>
<td align="left">Hatchery</td>
<td align="left">Site A</td>
<td align="left">…</td>
</tr>
<tr class="odd">
<td align="left">2018-02-01 10:15:00</td>
<td align="left">504|505|506</td>
<td align="left">T|D|A</td>
<td align="right">170</td>
<td align="right">50</td>
<td align="left">Wild</td>
<td align="left">Site B</td>
<td align="left">…</td>
</tr>
</tbody>
</table>
<dl>
<dt>Note:</dt>
<dd>If you do not include a “Sensor.unit” column, actel will simply use whatever sensor unit it can find in the raw detections file. To ensure that no issues arise from different manufacturers handling unit names differently, I recommend that you write the sensor unit even for single sensor tags.
</dd>
</dl>
</div>
</div>
<div id="spatial-file" class="section level2">
<h2 class="hasAnchor">
<a href="#spatial-file" class="anchor"></a>Spatial file</h2>
<p>Your spatial file should look similar to this:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Station.name</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="left">Section</th>
<th align="left">Array</th>
<th align="left">Type</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">River East</td>
<td align="right">8.411</td>
<td align="right">40.411</td>
<td align="left">River</td>
<td align="left">A1</td>
<td align="left">Hydrophone</td>
</tr>
<tr class="even">
<td align="left">River West</td>
<td align="right">8.521</td>
<td align="right">40.521</td>
<td align="left">River</td>
<td align="left">A1</td>
<td align="left">Hydrophone</td>
</tr>
<tr class="odd">
<td align="left">Estuary</td>
<td align="right">8.402</td>
<td align="right">40.402</td>
<td align="left">River</td>
<td align="left">A3</td>
<td align="left">Hydrophone</td>
</tr>
<tr class="even">
<td align="left">Site A</td>
<td align="right">8.442</td>
<td align="right">40.442</td>
<td align="left"></td>
<td align="left">A1</td>
<td align="left">Release</td>
</tr>
<tr class="odd">
<td align="left">Site B</td>
<td align="right">8.442</td>
<td align="right">40.442</td>
<td align="left"></td>
<td align="left">A2</td>
<td align="left">Release</td>
</tr>
</tbody>
</table>
<p>In this file you should include both your station deployment sites and your release sites. It is essential that this table has the following columns:</p>
<dl>
<dt>Station.name</dt>
<dd>The name of the station will be used to match the receiver deployments.
</dd>
<dt>Array</dt>
<dd>If you are listing a station: The array to which the station belongs.
</dd>
<dd>If you are listing a release site: The first array(s) that the animal is expected to cross after being released.
</dd>
<dt>Section</dt>
<dd>The study area section to which the hydrophone station belongs. Leave empty for the release sites.
</dd>
<dt>Type</dt>
<dd>The nature of the item you are listing. You <strong>must</strong> choose between “Hydrophone” or “Release”.
</dd>
</dl>
<p><strong>Note:</strong></p>
<ol style="list-style-type: decimal">
<li><p>The release sites must have <strong>exactly</strong> the same names in the biometrics table and in the spatial table. If there is a mismatch, actel will stop so you may correct this.</p></li>
<li><p>If the spatial table contains release site information, but the biometrics table does not, release site information will be discarded and the following warning is issued:</p></li>
</ol>
<pre><code>Warning: At least one release site has been indicated in the spatial file, but no release sites were specified in the biometrics file.
   Discarding release site information to avoid script failure. Please doublecheck your data.</code></pre>
<p><strong><a href="a-1_study_area.html">Click here to learn more about how to fit your study area into a spatial.csv file.</a></strong></p>
</div>
<div id="deployments-file" class="section level2">
<h2 class="hasAnchor">
<a href="#deployments-file" class="anchor"></a>Deployments file</h2>
<p>The deployments file is where you will list the receivers you used in the study. here is an example:</p>
<table class="table">
<thead><tr class="header">
<th align="right">Receiver</th>
<th align="left">Station.name</th>
<th align="left">Start</th>
<th align="left">Stop</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">11111</td>
<td align="left">River East</td>
<td align="left">2018-01-01 11:30:00</td>
<td align="left">2018-05-03 09:30:00</td>
</tr>
<tr class="even">
<td align="right">22222</td>
<td align="left">River West</td>
<td align="left">2018-01-01 11:33:00</td>
<td align="left">2018-05-04 08:33:00</td>
</tr>
<tr class="odd">
<td align="right">33333</td>
<td align="left">Estuary</td>
<td align="left">2018-01-01 11:34:00</td>
<td align="left">2018-05-05 12:00:00</td>
</tr>
</tbody>
</table>
<p>Short description of the columns:</p>
<dl>
<dt>Receiver</dt>
<dd>The serial number of the receiver. If a receiver was retrieved and re-deployed, you should add extra rows for each deployment.
</dd>
<dt>Station.name</dt>
<dd>The name of the station where the receiver was deployed. It <strong>must</strong> match one of the station names in the spatial file.
</dd>
<dt>Start and Stop</dt>
<dd>The times when the receiver was deployed and when the receiver was retrieved, respectively. Must be in a <strong>yyyy-mm-dd hh:mm:ss</strong> format. Note that these timestamps <strong>must</strong> be in the local time zone of the study area, which you will later supply in the <code>tz</code> argument.
</dd>
</dl>
</div>
<div id="detections" class="section level2">
<h2 class="hasAnchor">
<a href="#detections" class="anchor"></a>Detections</h2>
<p>Including your detections is the easiest part. Copy the <em>.csv</em> files offloaded from your receivers to the <em>detections</em> folder that was created by the <em>createWorkspace()</em> function and actel will know they are to be imported. Right now actel can upload files <a href="#standard-detections-file">generated specifically for actel</a>, or generated by VEMCO and THELMA manufactured receivers. If you have an receiver from a different manufacturer, or if you are using one of the supported manufacturers and get the warning displayed below, please to contact me so we can solve the issue.</p>
<pre><code>Warning: File 'filename' does not match to any of the supported hydrophone file formats! If your file corresponds to a hydrophone log and actel did not recognize it, please get in contact through www.github.com/hugomflavio/actel/issues/new</code></pre>
<dl>
<dt>Note:</dt>
<dd>
<strong>The detection timestamps must be in UTC</strong>. This is the default time zone used by the receivers, so as long as you did not edit the raw files, all should be ready to go.
</dd>
</dl>
<div id="standard-detections-file" class="section level3">
<h3 class="hasAnchor">
<a href="#standard-detections-file" class="anchor"></a>Standard detections file</h3>
<p>If you are working with a large database, odds are your detection data is no longer in the format of any given manufacturer. To import this data into actel, please prepare a .csv file with the following format:</p>
<table class="table">
<thead><tr class="header">
<th align="left">Timestamp</th>
<th align="right">Receiver</th>
<th align="left">CodeSpace</th>
<th align="right">Signal</th>
<th align="right">Sensor.Value</th>
<th align="left">Sensor.Unit</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">2018-01-01 11:30:00</td>
<td align="right">11111</td>
<td align="left">A12-3456</td>
<td align="right">1234</td>
<td align="right">10.0</td>
<td align="left">T</td>
</tr>
<tr class="even">
<td align="left">2018-01-01 11:33:00</td>
<td align="right">22222</td>
<td align="left">A12-3456</td>
<td align="right">1235</td>
<td align="right">5.3</td>
<td align="left">D</td>
</tr>
<tr class="odd">
<td align="left">2018-01-01 11:34:00</td>
<td align="right">33333</td>
<td align="left">R64K</td>
<td align="right">203</td>
<td align="right">13.6</td>
<td align="left">T</td>
</tr>
</tbody>
</table>
<dl>
<dt>Note:</dt>
<dd>Timestamp data can use a space separator or a “T” separator between the date and time, but <strong>should always be in UTC</strong>.
</dd>
<dd>Only list the receiver’s <strong>serial number</strong> in the receiver column (e.g. “13014” rather than “VR2W-13014”, or “111” rather than “TBR-111”).
</dd>
<dd>The column order is irrelevant, but the <strong>column names should be an exact match</strong> to what is displayed.
</dd>
</dl>
</div>
</div>
<div id="optional-distances-matrix" class="section level2">
<h2 class="hasAnchor">
<a href="#optional-distances-matrix" class="anchor"></a>Optional: Distances matrix</h2>
<p>A distances matrix is a table that contains information on the distance (in metres) between every pair of spatial elements in your study area (i.e. your stations and your release sites). It looks like the table below:</p>
<table class="table">
<thead><tr class="header">
<th align="left"></th>
<th align="right">St.1</th>
<th align="right">St.2</th>
<th align="right">St.3</th>
<th align="right">St.4</th>
<th align="right">St.5</th>
<th align="right">St.6</th>
<th align="right">Release</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">St.1</td>
<td align="right">0</td>
<td align="right">1366</td>
<td align="right">3417</td>
<td align="right">6912</td>
<td align="right">8863</td>
<td align="right">9272</td>
<td align="right">2229</td>
</tr>
<tr class="even">
<td align="left">St.2</td>
<td align="right">1366</td>
<td align="right">0</td>
<td align="right">2051</td>
<td align="right">5545</td>
<td align="right">7497</td>
<td align="right">7906</td>
<td align="right">3569</td>
</tr>
<tr class="odd">
<td align="left">St.3</td>
<td align="right">3417</td>
<td align="right">2051</td>
<td align="right">0</td>
<td align="right">3528</td>
<td align="right">5479</td>
<td align="right">5888</td>
<td align="right">5621</td>
</tr>
<tr class="even">
<td align="left">St.4</td>
<td align="right">6912</td>
<td align="right">5545</td>
<td align="right">3528</td>
<td align="right">0</td>
<td align="right">1963</td>
<td align="right">2372</td>
<td align="right">9115</td>
</tr>
<tr class="odd">
<td align="left">St.5</td>
<td align="right">8863</td>
<td align="right">7497</td>
<td align="right">5479</td>
<td align="right">1963</td>
<td align="right">0</td>
<td align="right">408</td>
<td align="right">11067</td>
</tr>
<tr class="even">
<td align="left">St.6</td>
<td align="right">9272</td>
<td align="right">7906</td>
<td align="right">5888</td>
<td align="right">2372</td>
<td align="right">408</td>
<td align="right">0</td>
<td align="right">11476</td>
</tr>
<tr class="odd">
<td align="left">Release</td>
<td align="right">2229</td>
<td align="right">3569</td>
<td align="right">5621</td>
<td align="right">9115</td>
<td align="right">11067</td>
<td align="right">11476</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p><strong><a href="a-2_distances_matrix.html">You can learn more about creating distances matrices in this page.</a></strong></p>
</div>
<div id="optional-spatial-txt-file" class="section level2">
<h2 class="hasAnchor">
<a href="#optional-spatial-txt-file" class="anchor"></a>Optional: spatial.txt file</h2>
<p>If your study area has multiple branches, then you need to tell actel how your arrays connect with each other. This file is optional because, if omitted, actel will assume that your study area is composed by a single branch and that the array order is the one listed in the spatial.csv file.</p>
<p>The spatial.txt file is very simple; all you need to do is connect your arrays with either dashes or arrows (find out the difference below). You can connect your arrays in pairs or make longer strings. To decide whether or not two arrays should be connected, ask yourself the following: “Can the animals move from A to B without having to pass through any other array?” If the answer is yes, then the arrays should be connected. Let’s have a look at some examples:</p>
<div id="one-branch-study-area-fully-covering-arrays" class="section level4">
<h4 class="hasAnchor">
<a href="#one-branch-study-area-fully-covering-arrays" class="anchor"></a>One branch study area, fully covering arrays</h4>
<p>This is the simplest case, e.g. your animals are migrating through a channel, and your arrays split this channel in sections. Like in the figure below:</p>
<center>
<img src="spatialtxt_a.svg" alt="drawing" width="600">
</center>
<p>For this specific case you do not need to include a spatial.txt file, as long as you order the arrays in the spatial.csv file. However, if you wanted to include a spatial.txt file, it would look like this:</p>
<pre><code>A -- B -- C -- D -- E</code></pre>
<p>Note that you could also specify only one connection per line. E.g.:</p>
<pre><code>A -- B 
B -- C 
C -- D 
D -- E</code></pre>
</div>
<div id="one-branch-study-area-partly-covering-arrays" class="section level4">
<h4 class="hasAnchor">
<a href="#one-branch-study-area-partly-covering-arrays" class="anchor"></a>One branch study area, partly-covering arrays</h4>
<p>This case is similar to above, but some arrays do not cover the totality. For example, they may cover a specific area of a lake (e.g. a spawning ground), Like in the figure below:</p>
<center>
<img src="spatialtxt_b.svg" alt="drawing" width="600">
</center>
<p>In this case, the animals can move from B to D without passing through C. As such, a spatial.txt file is now required, and it would look like this:</p>
<pre><code>A -- B -- D -- E
B -- C
C -- D</code></pre>
<p>Note that now, B, C and D are all directly connected with each other.</p>
</div>
<div id="multi-branch-study-areas" class="section level4">
<h4 class="hasAnchor">
<a href="#multi-branch-study-areas" class="anchor"></a>Multi branch study areas</h4>
<p>In this case, the water channel branches into multiple paths, which may then merge again or not, like in the figure below:</p>
<center>
<img src="spatialtxt_c.svg" alt="drawing" width="600">
</center>
<p>Things are getting a bit more complex now. To make sure you do not miss any connection, it can be useful to draw in a map the links between the arrays as you write them down, so you can check at the end if everything is done. Below, I have marked in purple the connections between all the arrays:</p>
<center>
<img src="spatialtxt_d.svg" alt="drawing" width="600">
</center>
<p>And here is the respective spatial.txt:</p>
<pre><code>A -- B 
A -- E
A -- F
B -- E
B -- F
E -- F
B -- C
C -- D
C -- E
E -- D
F -- G</code></pre>
<p>Or, in the shortened version:</p>
<pre><code>A -- B -- C -- D
A -- E -- D
A -- F -- G
B -- E -- F
B -- F
C -- E</code></pre>
<p>If are feeling wary of including multiple links in a single line, you can use the function <code>readDot</code> to read your spatial.txt file before starting the analysis and see if everything checks out. E.g.: <code><a href="../reference/readDot.html">readDot(input = "spatial.txt")</a></code></p>
<dl>
<dt><span style="color:red">Note:</span></dt>
<dd>This file can be called either “spatial.dot” or “spatial.txt”, and you can create it using a simple text editor such as notepad, kate, VIM, etc.
</dd>
</dl>
</div>
<div id="array-direction" class="section level4">
<h4 class="hasAnchor">
<a href="#array-direction" class="anchor"></a>Array direction</h4>
<p>In the migration analysis, array direction is relevant. That means that writing <code>A -- B</code> is not the same as writing <code>B -- A</code>. In the first case, array B comes after array A (i.e. the animals are expected to reach A before reaching B), while in the second case the situation is reversed. This has implications for array efficiency calculations, so be sure to encode your study area carefully.</p>
<p>If you intend to run an explore or residency analysis, array direction is irrelevant.</p>
</div>
<div id="exploreresidency-vs-migration" class="section level4">
<h4 class="hasAnchor">
<a href="#exploreresidency-vs-migration" class="anchor"></a>explore()/residency() vs migration()</h4>
<p>An optimal spatial.txt may differ depending on whether you want to run a migration or an explore/residency analysis. This is because actel interprets the spatial.txt file differently depending on the analysis:</p>
<p>In an explore/residency analyses, <code>A -- B</code> should be read as:</p>
<pre><code>It is possible to move from array A to array B and vice-versa</code></pre>
<p>In a migration analysis, <code>A -- B</code> should be read as:</p>
<pre><code>It is possible to move from array A to array B and vice-versa, AND the animals are expected to pass through array A before reaching array B</code></pre>
<p>Let’s have a look at this example.</p>
<center>
<img src="multi_way_efficiency.svg" alt="drawing" width="330">
</center>
<p>In this case, the spatial.txt for a residency analysis would look like this:</p>
<pre><code>A -- B -- C -- G
A -- D -- E -- G
D -- F -- G
D -- B
C -- E
C -- F
E -- F</code></pre>
<p>But a spatial.txt for a migration analysis would look like this:</p>
<pre><code>A -- B -- C -- G
A -- D -- E -- G
D -- F -- G
D -- B -- D
C -- E -- C
C -- F -- C
E -- F -- E</code></pre>
<p>The difference here is that, in the spatial.txt for migration, actel expects arrays to connected in a directional way. That means that connecting <code>D -- B</code> and <code>B -- D</code> does not mean the same thing, and it is important that you explicitly state that the animals are as likely to reach B coming from D as they are to reach D coming from B. In other words, you are saying that neither of the movements would be an explicit backwards movement. This will inform actel that D and B are parallel arrays, and that special rules should apply to them. The same goes for C, E and F.</p>
</div>
<div id="barriers" class="section level4">
<h4 class="hasAnchor">
<a href="#barriers" class="anchor"></a>Barriers</h4>
<p>Sometimes it is possible for your animals to go from A to B, but not from B to A. In actel, you can include this information to further refine the analysis. In total, there are three symbols you can use to connect your arrays: <code>--</code>, <code><a href="https://rdrr.io/r/base/assignOps.html">-&gt;</a></code> or <code><a href="https://rdrr.io/r/base/assignOps.html">&lt;-</a></code>.</p>
<p>If the animals can move from A to B and vice-versa, use <code>A -- B</code>.</p>
<p>If the animals can only move from A to B, use either <code>A -&gt; B</code> or <code>B &lt;- A</code>.</p>
<p>If an animal then actually moves from B to A, actel will try to find an alternative route that the animal could have taken. If there are no alternative routes from B to A, actel will call this situation to your attention.</p>
<p>This has implications for array efficiency calculations, so be sure to encode your study area carefully.</p>
<p>You can find more information about <a href="b-1_explore_processes.html#impassables">impassable barriers here.</a></p>
</div>
</div>
<div id="running-the-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#running-the-analysis" class="anchor"></a>Running the analysis</h2>
<p>Now that you have prepared your workspace, it is time to start the analysis. The first thing you need to do is decide which analysis you want to run: <code><a href="../reference/explore.html">explore()</a></code>, <code><a href="../reference/migration.html">migration()</a></code> or <code><a href="../reference/residency.html">residency()</a></code>. Here is some more information on them:</p>
<p><strong>1. explore()</strong></p>
<p>explore() allows you to quickly get a summary of your data. You can use explore() to get a general feel for the study results, and check if the input files are behaving as expected. It is also a good candidate if you just want to validate your detections for later use in other analyses.</p>
<p><a href="b-0_explore.html">Learn more about the explore function.</a></p>
<p><strong>2. migration()</strong></p>
<p>The migration() analysis runs the same initial checks as explore(), but on top of it, it analyses the animal behaviour. By selecting the arrays that lead to success, you can define whether or not your animals survived the migration. Additional plots help you find out if some animal/tag has been acting odd. Multiple options allow you to tweak the analysis to fit your study perfectly.</p>
<p><a href="c-0_migration.html">Learn more about the migration function.</a></p>
<p><strong>3. residency()</strong></p>
<p>The residency() analysis runs the same initial checks as explore(), but, similarly to migration, explores particular points of the animal behaviour. If you want to know where your animals were in each day of the study, how many animals were in each section each day, and other residency-focused variables, this is the analysis you are looking for!</p>
<p><a href="d-0_residency.html">Learn more about the residency function.</a></p>
<p><a href="#">Back to top.</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hugo Flávio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
