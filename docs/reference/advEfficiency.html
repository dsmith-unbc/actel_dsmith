<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculate beta estimations for efficiency — advEfficiency • actel</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Calculate beta estimations for efficiency — advEfficiency" />
<meta property="og:description" content="advEfficiency estimates efficiency ranges by fitting a beta distribution
with parameters \(\alpha\) = number of detected tags and \(\beta\) = number of missed
tags. The desired quantiles (argument q) are then calculated from distribution.
Plots are also drawn showing the distribution, the median point (dashed red line) and
the range between the lowest and largest quantile requested (red shaded section)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">actel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9027</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/a-0_workspace_requirements.html">1.0) Preparing your data</a>
    </li>
    <li>
      <a href="../articles/a-1_study_area.html">1.1) Structuring the study area</a>
    </li>
    <li>
      <a href="../articles/a-2_distances_matrix.html">1.2) Creating a distances matrix</a>
    </li>
    <li>
      <a href="../articles/a-3_preload.html">1.3) The preload() function</a>
    </li>
    <li>
      <a href="../articles/b-0_explore.html">2.0) explore()</a>
    </li>
    <li>
      <a href="../articles/b-1_explore_processes.html">2.1) Processes behind explore()</a>
    </li>
    <li>
      <a href="../articles/b-2_explore_results.html">2.2) Inspecting the explore() results</a>
    </li>
    <li>
      <a href="../articles/c-0_migration.html">3.0) migration()</a>
    </li>
    <li>
      <a href="../articles/c-1_migration_processes.html">3.1) Processes behind migration()</a>
    </li>
    <li>
      <a href="../articles/c-2_migration_results.html">3.2) Inspecting the migration() results</a>
    </li>
    <li>
      <a href="../articles/c-3_migration_efficiency.html">3.3) One-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/d-0_residency.html">4.0) residency()</a>
    </li>
    <li>
      <a href="../articles/d-1_residency_processes.html">4.1) Processes behind residency()</a>
    </li>
    <li>
      <a href="../articles/d-2_residency_results.html">4.2) Inspecting the residency() results</a>
    </li>
    <li>
      <a href="../articles/d-3_residency_efficiency.html">4.3) Multi-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/e-0_manual_mode.html">5.0) Manual mode</a>
    </li>
    <li>
      <a href="../articles/f-0_post_functions.html">6.0) Beyond the three main analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hugomflavio/actel/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculate beta estimations for efficiency</h1>
    <small class="dont-index">Source: <a href='https://github.com/hugomflavio/actel/blob/master/R/plot.R'><code>R/plot.R</code></a></small>
    <div class="hidden name"><code>advEfficiency.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>advEfficiency estimates efficiency ranges by fitting a beta distribution
with parameters \(\alpha\) = number of detected tags and \(\beta\) = number of missed
tags. The desired quantiles (argument <code>q</code>) are then calculated from distribution.
Plots are also drawn showing the distribution, the median point (dashed red line) and
the range between the lowest and largest quantile requested (red shaded section).</p>
    </div>

    <pre class="usage"><span class='fu'>advEfficiency</span>(
  <span class='kw'>x</span>,
  labels = <span class='kw'>NULL</span>,
  q = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>0.025</span>, <span class='fl'>0.5</span>, <span class='fl'>0.975</span>),
  force.grid = <span class='kw'>NULL</span>,
  paired = <span class='fl'>TRUE</span>,
  title = <span class='st'>""</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>An efficiency object from actel (<code>overall.CJS</code>, <code>intra.array.CJS[[...]]</code> or <code>efficiency</code> objects)</p></td>
    </tr>
    <tr>
      <th>labels</th>
      <td><p>a vector of strings to substitute default plot labels</p></td>
    </tr>
    <tr>
      <th>q</th>
      <td><p>The quantile values to be calculated. Defaults to <code><a href='https://rdrr.io/r/base/c.html'>c(0.025, 0.5, 0.975)</a></code> (i.e. median and 95% CI)</p></td>
    </tr>
    <tr>
      <th>force.grid</th>
      <td><p>A vector of format c(nrow, ncol) that allows the user to define the number of rows and columns to distribute the plots in.</p></td>
    </tr>
    <tr>
      <th>paired</th>
      <td><p>Logical: For efficiency derived from residency analyses, should min. and max. estimates for an array be displayed next to each other?</p></td>
    </tr>
    <tr>
      <th>title</th>
      <td><p>A title for the plot (feeds into title parameter of ggplot's labs function).</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with the required quantile values and a plot of the efficiency distributions.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Examples for inclusion in a paper:</p>
<ol>
<li><p>If advEfficiency was run on an <code>overall.CJS</code> object (i.e. migration analysis):</p>
<p>"Array efficiency was estimated by fitting a beta distribution
(\(\alpha\) = number of tags detected subsequently and at the array,
\(\beta\) = number of tags detected subsequently but not at the array)
and calculating the median estimated efficiency value using the R package actel [citation]."</p></li>
<li><p>If advEfficiency was run on an <code>efficiency</code> object (i.e. residency analysis):</p><ul>
<li><p>If you are using maximum efficiency estimates:</p>
<p>"Array efficiency was estimated by fitting a beta distribution
(\(\alpha\) = number of events recorded by the array,
\(\beta\) = number of events known to have been missed by the array).
and calculating the median estimated efficiency value using the R package actel [citation]."</p></li>
<li><p>If you are using minimum efficiency estimates:</p>
<p>"Array efficiency was estimated by fitting a beta distribution
(\(\alpha\) = number of events recorded by the array,
\(\beta\) = number of events both known to have been missed and potentially missed by the array).
and calculating the median estimated efficiency value using the R package actel [citation]."</p></li>
</ul></li>
<li><p>If advEfficiency was run on an <code>intra.array.CJS</code> object:</p>
<p>"Intra-array efficiency was estimated by comparing the tags detected at each of the
two replicates. For each replicate, a beta distribution was fitted
(\(\alpha\) = number of tags detected at both replicates, \(\beta\) = number
of tags detected at the opposite replicate but not at the one for which efficiency
is being calculated) and the median estimated efficiency value was calculated. The overall
efficiency of the array was then estimated as 1-((1-R1)*(1-R2)), where R1 and R2 are
the median efficiency estimates for each replicate. These calculations were performed
using the R package actel [citation]."</p></li>
</ol><p>Replace [citation] with the output of <code><a href='https://rdrr.io/r/utils/citation.html'>citation('actel')</a></code></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Example using the output of simpleCJS.</span>
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,
  <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>,  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>,
  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>, <span class='fl'>FALSE</span>, <span class='fl'>FALSE</span>,
  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>,  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,
  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>, <span class='fl'>FALSE</span>),
ncol = <span class='fl'>5</span>, byrow = <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='kw'>x</span>) <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"Release"</span>, <span class='st'>"A1"</span>, <span class='st'>"A2"</span>, <span class='st'>"A3"</span>, <span class='st'>"A4"</span>)
<span class='kw'>cjs.results</span> <span class='op'>&lt;-</span> <span class='fu'><a href='simpleCJS.html'>simpleCJS</a></span>(<span class='kw'>x</span>)

<span class='co'># These cjs results can be used in advEfficiency</span>
<span class='fu'>advEfficiency</span>(<span class='kw'>cjs.results</span>)
</div><div class='output co'>#&gt; <span class='message'>M: Some arrays were estimated to have either 0% or 100% efficiency, skipping plotting for those arrays.</span></div><div class='img'><img src='advEfficiency-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt;              2.5%       50%     97.5%
#&gt; Release 1.0000000 1.0000000 1.0000000
#&gt; A1      0.1941204 0.6142724 0.9324140
#&gt; A2      0.1581139 0.7071068 0.9874209
#&gt; A3      1.0000000 1.0000000 1.0000000</div><div class='input'>
<span class='co'># Example using the output of dualArrayCJS.</span>
<span class='kw'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span>(
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>( <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,
   <span class='fl'>TRUE</span>, <span class='fl'>FALSE</span>,
   <span class='fl'>TRUE</span>,  <span class='fl'>TRUE</span>,
  <span class='fl'>FALSE</span>,  <span class='fl'>TRUE</span>,
  <span class='fl'>FALSE</span>,  <span class='fl'>TRUE</span>),
ncol = <span class='fl'>2</span>, byrow = <span class='fl'>TRUE</span>)
<span class='fu'><a href='https://rdrr.io/r/base/colnames.html'>colnames</a></span>(<span class='kw'>x</span>) <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"A1.1"</span>, <span class='st'>"A1.2"</span>)
<span class='kw'>cjs.results</span> <span class='op'>&lt;-</span> <span class='fu'><a href='dualArrayCJS.html'>dualArrayCJS</a></span>(<span class='kw'>x</span>)

<span class='co'># These cjs results can be used in advEfficiency</span>
<span class='fu'>advEfficiency</span>(<span class='kw'>cjs.results</span>)
</div><div class='output co'>#&gt; <span class='message'>M: For each quantile, 'Combined' estimates are calculated as 1-((1-R1)*(1-R2)).</span></div><div class='img'><img src='advEfficiency-2.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt;                2.5%       50%     97.5%
#&gt; A1.1     0.09429932 0.5000000 0.9057007
#&gt; A1.2     0.15811388 0.7071068 0.9874209
#&gt; Combined 0.23750317 0.8535534 0.9988138</div><div class='input'>
<span class='co'># advEfficiency can also be run with the output from the main analyses.</span>
<span class='co'># the example.results dataset is the output of a migration analysis</span>
<span class='fu'>advEfficiency</span>(<span class='kw'>example.results</span><span class='op'>$</span><span class='kw'>overall.CJS</span>)
</div><div class='output co'>#&gt; <span class='message'>M: Some arrays were estimated to have either 0% or 100% efficiency, skipping plotting for those arrays.</span></div><div class='img'><img src='advEfficiency-3.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt;         2.5%       50%     97.5%
#&gt; A1 1.0000000 1.0000000 1.0000000
#&gt; A2 1.0000000 1.0000000 1.0000000
#&gt; A3 0.8955251 0.9673092 0.9952150
#&gt; A4 1.0000000 1.0000000 1.0000000
#&gt; A5 1.0000000 1.0000000 1.0000000
#&gt; A6 1.0000000 1.0000000 1.0000000
#&gt; A7 0.9177889 0.9840095 0.9994114
#&gt; A8 1.0000000 1.0000000 1.0000000</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Hugo Flávio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


