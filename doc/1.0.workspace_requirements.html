<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1">

<meta name="author" content="Hugo Flávio" />

<meta name="date" content="2019-07-13" />

<title>1) Preparing your data</title>






<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#header {
text-align: center;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; }  code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">1) Preparing your data</h1>
<h4 class="author">Hugo Flávio</h4>
<h4 class="date">2019-07-13</h4>



<div id="index" class="section level2">
<h2>Index</h2>
<ol style="list-style-type: decimal">
<li><a href="1.0.workspace_requirements.html"><strong>Preparing your data</strong></a>
<ol style="list-style-type: decimal">
<li><a href="1.1.study_area.html">Structuring the study area</a></li>
<li><a href="1.2.distances_matrix.html">Creating a distances matrix</a></li>
</ol></li>
<li><a href="2.0.running_analysis.html">Running actel</a></li>
<li><a href="3.0.the_sorting_process.html">What is actel doing?</a>
<ol style="list-style-type: decimal">
<li><a href="3.1.messages.html">Errors and messages</a></li>
</ol></li>
<li><a href="4.inspecting_results.html">Inspecting the results</a></li>
<li><a href="5.refining_results.html">Refining the results</a></li>
</ol>
</div>
<div id="preparing-your-data" class="section level2">
<h2>Preparing your data</h2>
<p>Actel requires that you organise your input files in a specific fashion. Critically, you should have a file named <strong>biometrics.csv</strong> and one named <strong>spatial.csv</strong> (We will look into the file contents in detail soon). Finally, you also need a <strong>detections</strong> directory, containing all your detection files in <em>.csv</em> format. To create a blank workspace ready to be used, simply run <code>createWorkspace()</code>, and a template will be generated automatically in your current work directory.</p>
</div>
<div id="biometrics-file" class="section level2">
<h2>Biometrics file</h2>
<p>Your biometrics file should look similar to this:</p>
<table>
<thead>
<tr class="header">
<th align="left">Release.date</th>
<th align="left">Serial.nr</th>
<th align="right">Signal</th>
<th align="right">Length.mm</th>
<th align="right">Weight.g</th>
<th align="left">Group</th>
<th align="left">Release.site</th>
<th align="left">…</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">2018-02-01 10:05:00</td>
<td align="left">12340001</td>
<td align="right">1</td>
<td align="right">150</td>
<td align="right">40</td>
<td align="left">Wild</td>
<td align="left">Site A</td>
<td align="left">…</td>
</tr>
<tr class="even">
<td align="left">2018-02-01 10:10:00</td>
<td align="left">A12-3456-1001</td>
<td align="right">1001</td>
<td align="right">160</td>
<td align="right">60</td>
<td align="left">Hatchery</td>
<td align="left">Site A</td>
<td align="left">…</td>
</tr>
<tr class="odd">
<td align="left">2018-02-01 10:15:00</td>
<td align="left">19340301</td>
<td align="right">301</td>
<td align="right">170</td>
<td align="right">50</td>
<td align="left">Wild</td>
<td align="left">Site B</td>
<td align="left">…</td>
</tr>
</tbody>
</table>
<p>Although the column order is not important, it is essential that this table contains two columns:</p>
<dl>
<dt>Release.date</dt>
<dd>Corresponds to the date and time when the fish was released, and <strong>must</strong> be typed in <strong>yyyy-mm-dd hh:mm:ss</strong> format.
</dd>
<dd><strong>Note:</strong> These timestamps <strong>must</strong> be in the same time zone as the study area, which you will later list in the <code>tz.study.area</code> variable, when you run actel.
</dd>
<dt>Signal</dt>
<dd>Corresponds to the code emitted by the tag that was implanted on the fish. If you are unsure as to what exactly is the signal being emitted by your tag, you can ask the tag manufacturer more about the differences between code spaces and signals.
</dd>
</dl>
<p>The <em>Group</em> and <em>Release.site</em> columns are also important but, if you only have one group or one release site, actel can generate these columns for you. If this happens, you will receive a message:</p>
<pre><code>M: No Release site has been indicated in the biometrics file. Creating a &#39;Release.site&#39; column to avoid script failure. Filling with &#39;unspecified&#39;.
M: No &#39;Group&#39; column found in the biometrics file. Assigning all fish to group &#39;All&#39;.</code></pre>
<p>You can then append to this biometrics table as many columns with information relevant to your study as you want. Importantly, if the biometrics table has columns with keywords such as <em>length</em>, <em>weight</em> or <em>mass</em>, graphics showing the distribution of these parameters per fish group will be drawn for you.</p>
</div>
<div id="spatial-file" class="section level2">
<h2>Spatial file</h2>
<p>Your spatial file should look similar to this:</p>
<table>
<thead>
<tr class="header">
<th align="left">Station.Name</th>
<th align="left">Receiver</th>
<th align="right">Latitude</th>
<th align="right">Longitude</th>
<th align="left">Array</th>
<th align="left">Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">River East</td>
<td align="left">123001</td>
<td align="right">8.411</td>
<td align="right">40.411</td>
<td align="left">River1</td>
<td align="left">Hydrophone</td>
</tr>
<tr class="even">
<td align="left">River West</td>
<td align="left">123002</td>
<td align="right">8.521</td>
<td align="right">40.521</td>
<td align="left">River1</td>
<td align="left">Hydrophone</td>
</tr>
<tr class="odd">
<td align="left">Estuary</td>
<td align="left">331</td>
<td align="right">8.402</td>
<td align="right">40.402</td>
<td align="left">River2</td>
<td align="left">Hydrophone</td>
</tr>
<tr class="even">
<td align="left">Site A</td>
<td align="left">NA</td>
<td align="right">8.442</td>
<td align="right">40.442</td>
<td align="left">River1</td>
<td align="left">Release</td>
</tr>
<tr class="odd">
<td align="left">Site B</td>
<td align="left">NA</td>
<td align="right">8.442</td>
<td align="right">40.442</td>
<td align="left">River2</td>
<td align="left">Release</td>
</tr>
</tbody>
</table>
<p>In this file you should include both your acoustic receivers (i.e. hydrophones) and your release sites. It is essential that this table has the following columns:</p>
<dl>
<dt>Receiver</dt>
<dd>The serial number of the hydrophone placed at this position. If you had more than one hydrophone at the same position (e.g. because the first one was lost), simply create a new <em>Receiver</em> column and add the serial number of the new hydrophone there. Add as many <em>Receiver</em> columns as you need to fit in all the hydrophones you used at a given station.
</dd>
<dt>Array</dt>
<dd>If you are listing a hydrophone: The array to which the hydrophone belongs. Arrays from a given study section must differ only in number. I.e. arrays <strong>must</strong> have this format: <em>section#</em>.
</dd>
<dd>If you are listing a release site: The first array that the fish is expected to cross after being released.
</dd>
<dt>Type</dt>
<dd>The nature of the item you are listing. You <strong>must</strong> choose between “Hydrophone” or “Release”.
</dd>
</dl>
<p><strong>Note:</strong></p>
<ol style="list-style-type: decimal">
<li><p>The release sites must have <strong>exactly</strong> the same names in the biometrics table and in the spatial table. If there is a mismatch, actel will stop so you may correct this.</p></li>
<li><p>If the spatial table contains release site information, but the biometrics table does not, release site information will be discarded and the following warning is issued:</p></li>
</ol>
<pre><code>W: At least one release site has been indicated in the spatial file, but no release sites were specified in the biometrics file.
   Discarding release site information to avoid script failure. Please doublecheck your data.</code></pre>
<p><strong><a href="1.1.study_area.html">Click here to learn more about how to organise your study area in an actel-friendly way.</a></strong></p>
</div>
<div id="detections" class="section level2">
<h2>Detections</h2>
<p>Including your detections is the easiest part. Copy the <em>.csv</em> files offloaded from your hydrophones to the <em>detections</em> folder that was created by the <em>createWorkspace()</em> function and actel will know they are to be imported. Right now actel can upload files generated from VEMCO and THELMA manufactured hydrophones. If you have an hydrophone from a different manufacturer, or if you are using one of the supported manufacturers and get the warning displayed below, please to contact us so we can solve the issue.</p>
<pre><code>W: File &#39;filename&#39; does not match to any of the supported hydrophone file formats! If your file corresponds to a hydrophone log and actel did not recognize it, please contact the developer team: teamcontact</code></pre>
</div>
<div id="optional-distances-matrix" class="section level2">
<h2>Optional: Distances matrix</h2>
<p>A distances matrix is a table that contains information on the distance (in metres) between every pair of spatial elements in your study area (i.e. your receivers and your release sites). It looks like the table below:</p>
<table>
<thead>
<tr class="header">
<th align="left"></th>
<th align="right">St.1</th>
<th align="right">St.2</th>
<th align="right">St.3</th>
<th align="right">St.4</th>
<th align="right">St.5</th>
<th align="right">St.6</th>
<th align="right">Release</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">St.1</td>
<td align="right">0.000</td>
<td align="right">1366.153</td>
<td align="right">3417.379</td>
<td align="right">6912.118</td>
<td align="right">8863.6829</td>
<td align="right">9272.5684</td>
<td align="right">2229.759</td>
</tr>
<tr class="even">
<td align="left">St.2</td>
<td align="right">1366.153</td>
<td align="right">0.000</td>
<td align="right">2051.225</td>
<td align="right">5545.964</td>
<td align="right">7497.5297</td>
<td align="right">7906.4151</td>
<td align="right">3569.994</td>
</tr>
<tr class="odd">
<td align="left">St.3</td>
<td align="right">3417.379</td>
<td align="right">2051.225</td>
<td align="right">0.000</td>
<td align="right">3528.232</td>
<td align="right">5479.7976</td>
<td align="right">5888.6830</td>
<td align="right">5621.219</td>
</tr>
<tr class="even">
<td align="left">St.4</td>
<td align="right">6912.118</td>
<td align="right">5545.964</td>
<td align="right">3528.232</td>
<td align="right">0.000</td>
<td align="right">1963.4126</td>
<td align="right">2372.2981</td>
<td align="right">9115.958</td>
</tr>
<tr class="odd">
<td align="left">St.5</td>
<td align="right">8863.683</td>
<td align="right">7497.530</td>
<td align="right">5479.798</td>
<td align="right">1963.413</td>
<td align="right">0.0000</td>
<td align="right">408.8854</td>
<td align="right">11067.524</td>
</tr>
<tr class="even">
<td align="left">St.6</td>
<td align="right">9272.568</td>
<td align="right">7906.415</td>
<td align="right">5888.683</td>
<td align="right">2372.298</td>
<td align="right">408.8854</td>
<td align="right">0.0000</td>
<td align="right">11476.409</td>
</tr>
<tr class="odd">
<td align="left">Release</td>
<td align="right">2229.759</td>
<td align="right">3569.994</td>
<td align="right">5621.219</td>
<td align="right">9115.958</td>
<td align="right">11067.5236</td>
<td align="right">11476.4090</td>
<td align="right">0.000</td>
</tr>
</tbody>
</table>
<p><strong><a href="1.2.distances_matrix.html">You can learn more about creating distances matrices in this page.</a></strong></p>
<p>Now that you know how to organise your workspace, <a href="2.0.running_analysis.html">let’s get the analysis going!</a></p>
<p><a href="#">Back to top.</a></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
