<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>1.3) The preload() function • actel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="1.3) The preload() function">
<meta property="og:description" content="actel">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">actel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9027</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-0_workspace_requirements.html">1.0) Preparing your data</a>
    </li>
    <li>
      <a href="../articles/a-1_study_area.html">1.1) Structuring the study area</a>
    </li>
    <li>
      <a href="../articles/a-2_distances_matrix.html">1.2) Creating a distances matrix</a>
    </li>
    <li>
      <a href="../articles/a-3_preload.html">1.3) The preload() function</a>
    </li>
    <li>
      <a href="../articles/b-0_explore.html">2.0) explore()</a>
    </li>
    <li>
      <a href="../articles/b-1_explore_processes.html">2.1) Processes behind explore()</a>
    </li>
    <li>
      <a href="../articles/b-2_explore_results.html">2.2) Inspecting the explore() results</a>
    </li>
    <li>
      <a href="../articles/c-0_migration.html">3.0) migration()</a>
    </li>
    <li>
      <a href="../articles/c-1_migration_processes.html">3.1) Processes behind migration()</a>
    </li>
    <li>
      <a href="../articles/c-2_migration_results.html">3.2) Inspecting the migration() results</a>
    </li>
    <li>
      <a href="../articles/c-3_migration_efficiency.html">3.3) One-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/d-0_residency.html">4.0) residency()</a>
    </li>
    <li>
      <a href="../articles/d-1_residency_processes.html">4.1) Processes behind residency()</a>
    </li>
    <li>
      <a href="../articles/d-2_residency_results.html">4.2) Inspecting the residency() results</a>
    </li>
    <li>
      <a href="../articles/d-3_residency_efficiency.html">4.3) Multi-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/e-0_manual_mode.html">5.0) Manual mode</a>
    </li>
    <li>
      <a href="../articles/f-0_post_functions.html">6.0) Beyond the three main analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hugomflavio/actel/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>1.3) The preload() function</h1>
                        <h4 class="author">Hugo Flávio</h4>
            
            <h4 class="date">2020-09-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hugomflavio/actel/blob/master/vignettes/a-3_preload.Rmd"><code>vignettes/a-3_preload.Rmd</code></a></small>
      <div class="hidden name"><code>a-3_preload.Rmd</code></div>

    </div>

    
    
<div id="index" class="section level2">
<h2 class="hasAnchor">
<a href="#index" class="anchor"></a>Index</h2>
<ol style="list-style-type: decimal">
<li>
<a href="a-0_workspace_requirements.html"><strong>Preparing your data</strong></a>
<ol style="list-style-type: decimal">
<li><a href="a-1_study_area.html">Structuring the study area</a></li>
<li><a href="a-2_distances_matrix.html">Creating a distances matrix</a></li>
<li><a href="a-3_preload.html"><strong>The preload() function</strong></a></li>
</ol>
</li>
<li>
<a href="b-0_explore.html">explore()</a>
<ol style="list-style-type: decimal">
<li><a href="b-1_explore_processes.html">Processes behind explore()</a></li>
<li><a href="b-2_explore_results.html">Inspecting the explore() results</a></li>
</ol>
</li>
<li>
<a href="c-0_migration.html">migration()</a>
<ol style="list-style-type: decimal">
<li><a href="c-1_migration_processes.html">Processes behind migration()</a></li>
<li><a href="c-2_migration_results.html">Inspecting the migration() results</a></li>
<li><a href="c-3_migration_efficiency.html">One-way efficiency estimations</a></li>
</ol>
</li>
<li>
<a href="d-0_residency.html">residency()</a>
<ol style="list-style-type: decimal">
<li><a href="d-1_residency_processes.html">Processes behind residency()</a></li>
<li><a href="d-2_residency_results.html">Inspecting the residency() results</a></li>
<li><a href="d-3_residency_efficiency.html">Multi-way efficiency estimations</a></li>
</ol>
</li>
<li><a href="e-0_manual_mode.html">Manual mode</a></li>
<li><a href="f-0_post_functions.html">Beyond the three main analyses</a></li>
</ol>
</div>
<div id="note" class="section level2">
<h2 class="hasAnchor">
<a href="#note" class="anchor"></a>Note!</h2>
<p>The content on this page assumes that 1) You are familiar with handling R objects and 2) you are familiar with the the traditional input files for actel. If you do not know which inputs are necessary to run actel, you can find more information about them <a href="a-0_workspace_requirements.html">in the first page of the manual</a>.</p>
</div>
<div id="the-preload-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-preload-function" class="anchor"></a>The preload() function</h2>
<p>If you are working with large databases, or retrieving your detection data from a server (such as ETN or OTN), it may be impractical to have to save all the data into CSV files to be able to run actel analyses. To help you out, I have created the function <code><a href="../reference/preload.html">preload()</a></code>, which pre-compiles R objects into a format that is actel-compatible.</p>
<dl>
<dt>Note:</dt>
<dd>The main functions will not accept a datapack that does not originate from a <code><a href="../reference/preload.html">preload()</a></code> call run during the same R session. This is to ensure that the data is correctly formatted and up to date.
</dd>
</dl>
<p>To run the <code><a href="../reference/preload.html">preload()</a></code> function, you must first create four R objects, equal in structure to their CSV counterparts: biometrics, spatial, deployments and detections. Additionally, you also need to set the <code>tz</code> argument.</p>
<p>Once you have these four objects, you can run <code><a href="../reference/preload.html">preload()</a></code>:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/preload.html">preload</a></span>(biometrics = <span class="kw">biometrics</span>, spatial = <span class="kw">spatial</span>, deployments = <span class="kw">deployments</span>, 
    detections = <span class="kw">detections</span>, tz = <span class="st">"Europe/Copenhagen"</span>)
</pre></div>
<p>You can then use the resulting object to run an actel analysis:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/explore.html">explore</a></span>(datapack = <span class="kw">x</span>)
</pre></div>
</div>
<div id="what-about-the-optional-files" class="section level2">
<h2 class="hasAnchor">
<a href="#what-about-the-optional-files" class="anchor"></a>What about the optional files?</h2>
<p>If you want to use <code><a href="../reference/preload.html">preload()</a></code> and include a distances matrix or the equivalent of a ‘spatial.txt’ file, you must use the <code>distances</code> and <code>dot</code> arguments (respectively). I recommend that you calculate the distances matrix using the actel functions provided for that (more details <a href="a-2_distances_matrix.html">in this page</a>). As for the dot argument, simply create a string that looks like what your ‘spatial.txt’ file would have looked like. e.g:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="co"># You can create multiple lines, just like in the spatial.txt case:</span>
<span class="kw">dot</span> <span class="op">&lt;-</span> 
<span class="st">"River0 -- River1 -- River3 -- River4 -- River5 -- River6 -- Fjord1 -- Fjord2 -- Sea1
River1 -- River2 -- River3"</span>


<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/preload.html">preload</a></span>(biometrics = <span class="kw">biometrics</span>, spatial = <span class="kw">spatial</span>, deployments = <span class="kw">deployments</span>, 
    detections = <span class="kw">detections</span>, distances = <span class="kw">distances</span>, dot = <span class="kw">dot</span>, tz = <span class="st">"Europe/Copenhagen"</span>)
</pre></div>
</div>
<div id="migrationresidency-compatible-datapacks" class="section level2">
<h2 class="hasAnchor">
<a href="#migrationresidency-compatible-datapacks" class="anchor"></a>migration/residency-compatible datapacks</h2>
<p>If your final goal is to run a <code><a href="../reference/migration.html">migration()</a></code> or <code><a href="../reference/residency.html">residency()</a></code> analysis, remember to have a ‘Section’ column in your spatial input.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/preload.html">preload</a></span>(biometrics = <span class="kw">biometrics</span>, spatial = <span class="kw">spatial</span>, deployments = <span class="kw">deployments</span>, 
    detections = <span class="kw">detections</span>, distances = <span class="kw">distances</span>, dot = <span class="kw">dot</span>, tz = <span class="st">"Europe/Copenhagen"</span>)
</pre></div>
<p>You can then run residency and migration simply sourcing the datapack!</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/migration.html">migration</a></span>(datapack = <span class="kw">x</span>)

<span class="co"># or</span>

<span class="kw">results</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/residency.html">residency</a></span>(datapack = <span class="kw">x</span>)
</pre></div>
</div>
<div id="remaining-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#remaining-arguments" class="anchor"></a>Remaining arguments</h2>
<p>The <code><a href="../reference/preload.html">preload()</a></code> function also contains the following arguments: <code>exclude.tags</code>, <code>disregard.parallels</code>, <code>discard.orphans</code>, <code>start.time</code> and <code>stop.time</code>. These perform exactly the same tasks as their counterparts on the main functions.</p>
<dl>
<dt>Note:</dt>
<dd>If you are using preloaded data, these arguments will be disregarded in the main analysis call, so make sure to set them correctly in the <code><a href="../reference/preload.html">preload()</a></code> call!
</dd>
</dl>
</div>
<div id="final-notes-on-the-detections" class="section level2">
<h2 class="hasAnchor">
<a href="#final-notes-on-the-detections" class="anchor"></a>Final notes on the detections</h2>
<p>If you load detections through <code><a href="../reference/preload.html">preload()</a></code>, they will be required to have four specific columns: Timestamp, Receiver, CodeSpace and Signal. You can use the functions <code><a href="../reference/extractCodeSpaces.html">extractCodeSpaces()</a></code> and <code><a href="../reference/extractSignals.html">extractSignals()</a></code> to help you out if needed. On top of these four columns, you can include two columns for sensor data: Sensor.Value and Sensor.Unit (notice the capital first letters). On top of these six columns, you can include as many columns as you want! These extra columns will be carried through the main analyses and exported in the <code>detections</code> and <code>valid.detections</code> objects.</p>
<dl>
<dt>Note:</dt>
<dd>Because, at this point, the detections are no longer influenced by the manufacturer, actel will not convert code-spaces. This means that whichever CodeSpace you selected for your tags, is the one that will be displayed at the end of the analyses!
</dd>
</dl>
<p><strong><a href="javascript:history.back()">Return to previous page</a></strong></p>
<p><a href="#">Back to top.</a></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hugo Flávio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
