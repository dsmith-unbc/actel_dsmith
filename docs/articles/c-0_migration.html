<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>3.0) migration() • actel</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="3.0) migration()">
<meta property="og:description" content="actel">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">actel</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.1.9027</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/a-0_workspace_requirements.html">1.0) Preparing your data</a>
    </li>
    <li>
      <a href="../articles/a-1_study_area.html">1.1) Structuring the study area</a>
    </li>
    <li>
      <a href="../articles/a-2_distances_matrix.html">1.2) Creating a distances matrix</a>
    </li>
    <li>
      <a href="../articles/a-3_preload.html">1.3) The preload() function</a>
    </li>
    <li>
      <a href="../articles/b-0_explore.html">2.0) explore()</a>
    </li>
    <li>
      <a href="../articles/b-1_explore_processes.html">2.1) Processes behind explore()</a>
    </li>
    <li>
      <a href="../articles/b-2_explore_results.html">2.2) Inspecting the explore() results</a>
    </li>
    <li>
      <a href="../articles/c-0_migration.html">3.0) migration()</a>
    </li>
    <li>
      <a href="../articles/c-1_migration_processes.html">3.1) Processes behind migration()</a>
    </li>
    <li>
      <a href="../articles/c-2_migration_results.html">3.2) Inspecting the migration() results</a>
    </li>
    <li>
      <a href="../articles/c-3_migration_efficiency.html">3.3) One-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/d-0_residency.html">4.0) residency()</a>
    </li>
    <li>
      <a href="../articles/d-1_residency_processes.html">4.1) Processes behind residency()</a>
    </li>
    <li>
      <a href="../articles/d-2_residency_results.html">4.2) Inspecting the residency() results</a>
    </li>
    <li>
      <a href="../articles/d-3_residency_efficiency.html">4.3) Multi-way efficiency estimations</a>
    </li>
    <li>
      <a href="../articles/e-0_manual_mode.html">5.0) Manual mode</a>
    </li>
    <li>
      <a href="../articles/f-0_post_functions.html">6.0) Beyond the three main analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hugomflavio/actel/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>3.0) migration()</h1>
                        <h4 class="author">Hugo Flávio</h4>
            
            <h4 class="date">2020-09-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hugomflavio/actel/blob/master/vignettes/c-0_migration.Rmd"><code>vignettes/c-0_migration.Rmd</code></a></small>
      <div class="hidden name"><code>c-0_migration.Rmd</code></div>

    </div>

    
    
<div id="index" class="section level2">
<h2 class="hasAnchor">
<a href="#index" class="anchor"></a>Index</h2>
<ol style="list-style-type: decimal">
<li>
<a href="a-0_workspace_requirements.html">Preparing your data</a>
<ol style="list-style-type: decimal">
<li><a href="a-1_study_area.html">Structuring the study area</a></li>
<li><a href="a-2_distances_matrix.html">Creating a distances matrix</a></li>
<li><a href="a-3_preload.html">The preload() function</a></li>
</ol>
</li>
<li>
<a href="b-0_explore.html">explore()</a>
<ol style="list-style-type: decimal">
<li><a href="b-1_explore_processes.html">Processes behind explore()</a></li>
<li><a href="b-2_explore_results.html">Inspecting the explore() results</a></li>
</ol>
</li>
<li>
<a href="c-0_migration.html"><strong>migration()</strong></a>
<ol style="list-style-type: decimal">
<li><a href="c-1_migration_processes.html">Processes behind migration()</a></li>
<li><a href="c-2_migration_results.html">Inspecting the migration() results</a></li>
<li><a href="c-3_migration_efficiency.html">One-way efficiency estimations</a></li>
</ol>
</li>
<li>
<a href="d-0_residency.html">residency()</a>
<ol style="list-style-type: decimal">
<li><a href="d-1_residency_processes.html">Processes behind residency()</a></li>
<li><a href="d-2_residency_results.html">Inspecting the residency() results</a></li>
<li><a href="d-3_residency_efficiency.html">Multi-way efficiency estimations</a></li>
</ol>
</li>
<li><a href="e-0_manual_mode.html">Manual mode</a></li>
<li><a href="f-0_post_functions.html">Beyond the three main analyses</a></li>
</ol>
</div>
<div id="the-migration-function" class="section level2">
<h2 class="hasAnchor">
<a href="#the-migration-function" class="anchor"></a>The migration() function</h2>
<p>The migration() functions builds on the same principles as the explore() function and, in addition, computes metrics under the assumption that the animals will move in a predictable direction.</p>
<p>migration() has the same arguments as explore(), and includes a set of new arguments aimed to fine tune the migration-related metrics. Like with explore, you <em>do not need to start working with all arguments right away.</em> For simple study areas, defining the <code>tz</code> is enough to get you going!</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="../reference/migration.html">migration</a></span>(tz = <span class="st">"Europe/Copenhagen"</span>)
</pre></div>
</div>
<div id="migration-arguments" class="section level2">
<h2 class="hasAnchor">
<a href="#migration-arguments" class="anchor"></a>Migration arguments</h2>
<p>Study areas can differ considerably. The arguments within migration() allow you to capture that diversity!</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="../reference/migration.html">migration</a></span>(<span class="kw">tz</span>, section.order = <span class="kw">NULL</span>, success.arrays = <span class="kw">NULL</span>, max.interval = <span class="fl">60</span>, minimum.detections = <span class="fl">2</span>, 
  start.time = <span class="kw">NULL</span>, stop.time = <span class="kw">NULL</span>, speed.method = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"last to first"</span>, <span class="st">"first to first"</span>), 
  speed.warning = <span class="kw">NULL</span>, speed.error = <span class="kw">NULL</span>, jump.warning = <span class="fl">2</span>, jump.error = <span class="fl">3</span>, 
  inactive.warning = <span class="kw">NULL</span>, inactive.error = <span class="kw">NULL</span>, exclude.tags = <span class="kw">NULL</span>, override = <span class="kw">NULL</span>, report = <span class="fl">FALSE</span>,
  auto.open = <span class="fl">TRUE</span>, discard.orphans = <span class="fl">FALSE</span>, save.detections = <span class="fl">FALSE</span>, if.last.skip.section = <span class="fl">TRUE</span>, 
  replicates = <span class="kw">NULL</span>, disregard.parallels = <span class="fl">TRUE</span>, GUI = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"needed"</span>, <span class="st">"always"</span>, <span class="st">"never"</span>),
  plot.detections.by = <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"stations"</span>, <span class="st">"arrays"</span>))
</pre></div>
<p>Below are listed only new arguments that do not exist in <a href="b-0_explore.html#general-arguments">explore</a>.</p>
<div id="section-order" class="section level3">
<h3 class="hasAnchor">
<a href="#section-order" class="anchor"></a>section.order</h3>
<p>For the <code><a href="../reference/migration.html">migration()</a></code> analysis, the order of the study area sections must reflect the expected order in which your animals will cross them. If a <code>section.order</code> is not provided, actel will order the sections by their appearance in the spatial.csv file. However, if you want to alter this default order, you can specify a given order using this argument. E.g. if you expect your animals to move from the river, to a fjord and ultimately to the sea (and you have receivers in all these ecosystems), then <code>section.order = c("River", "Fjord", "Sea")</code>.</p>
<p>In the other hand, if you expect your animals to migrate upstream, then <code>section.order = c("Sea", "Fjord", "River")</code>. To learn more about how to organise your study area in an actel-friendly way, have a look at <a href="a-1_study_area.html">this manual page.</a></p>
</div>
<div id="success-arrays" class="section level3">
<h3 class="hasAnchor">
<a href="#success-arrays" class="anchor"></a>success.arrays</h3>
<p>If a tag is last detected at an array listed in <code>success.arrays</code>, the respective animal will be considered to have successfully crossed the study area. By default, the last array of your study area is considered a success array. However, if you are not sure about your last array’s efficiency, you can define multiple success arrays (e.g. <code>success.arrays = c("Sea1", "Sea2")</code> ).</p>
<dl>
<dt>Note:</dt>
<dd>In multi-branch study areas with multiple endings, the last array of each ending is, by default, considered a success array.
</dd>
</dl>
</div>
<div id="if-last-skip-section" class="section level3">
<h3 class="hasAnchor">
<a href="#if-last-skip-section" class="anchor"></a>if.last.skip.section</h3>
<p>This option is best explained with examples. Let us assume we have a study area with four arrays: River1, River2, Fjord1 and Fjord2. Now, we have a tag that was last detected at River2. Should this animal be considered to have disappeared in the river or in the fjord? It comes down to how your stations are deployed in the field, and this is what <code>if.last.skip.section</code> is controlling for. Lets have a look at the two maps below.</p>
<p><img src="if_last_skip_section_true.svg" alt="drawing" width="330"><img src="if_last_skip_section_false.svg" alt="drawing" width="330"></p>
<p>On study area <strong>A</strong>, it seems reasonable that a tag last detected at River2 has likely died in the fjord, before reaching Fjord1. In this case, <code>if.last.skip.section = TRUE</code>.</p>
<p>However, on study area <strong>B</strong>, if a tag was last detected at River2, it most likely died somewhere in the river. In this case, <code>if.last.skip.section = FALSE</code>.</p>
</div>
<div id="replicates" class="section level3">
<h3 class="hasAnchor">
<a href="#replicates" class="anchor"></a>replicates</h3>
<p>One of the main drawbacks of array efficiency calculations is that it can be tricky to estimate efficiency for arrays which have no valid efficiency peers (i.e. no other arrays that can be used as quality checks). However, if these “isolated” arrays are composed by two lines of receivers, one line can be used as a replicate of the other, which in turn allows for the estimation of intra-array efficiency. If this is your case, then you should make use of the <code>replicates</code> argument.</p>
<dl>
<dt>Note:</dt>
<dd>Array replication should only be performed if the replicate stations cover the same extent of the migration route section as the opposite stations, and only if the two lines of receivers are close to each other (i.e. one can assume 0% mortality between them). Have a look at the figures below for some examples.
</dd>
</dl>
<p><img src="replicates_A.svg" alt="drawing" width="330"><img src="replicates_B.svg" alt="drawing" width="330"></p>
<p><img src="replicates_C.svg" alt="drawing" width="330"><img src="replicates_D.svg" alt="drawing" width="330"></p>
<div id="setting-up-the-replicates-argument" class="section level4">
<h4 class="hasAnchor">
<a href="#setting-up-the-replicates-argument" class="anchor"></a>Setting up the replicates argument</h4>
<p>You <strong>must use the stations standard names</strong> (i.e. St.10, St.12) when referring to replicates. If you are not sure what the Standard names are, you can run <code><a href="../reference/loadSpatial.html">loadSpatial()</a></code> in the same folder as your spatial.csv file or <code><a href="../reference/loadSpatial.html">loadSpatial(file = "path/to/spatial.csv")</a></code> to check them out (see the “Standard.name” column).</p>
<p>Once you know which replicates you want to list for your array(s), you can include them in the analysis. Lets imagine you want to use stations St.1 and St.2 as replicates for the array River1, and St.3 as a replicate for array River3. This is how they should be listed:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">migration</span>([...], <span class="dt">estimates =</span> <span class="kw">list</span>(<span class="dt">River1 =</span> <span class="kw">c</span>(<span class="st">"St.1"</span>, <span class="st">"St.2"</span>), <span class="dt">River3 =</span> <span class="st">"St.3"</span>))</a></code></pre></div>
<p>Where […] stands for other arguments you want to specify in the function.</p>
<p>It is important that you list replicates using the <code><a href="https://rdrr.io/r/base/list.html">list(Array = "Replicate")</a></code> construction. Keep this in mind while you prepare the code.</p>
</div>
</div>
<div id="disregard-parallels" class="section level3">
<h3 class="hasAnchor">
<a href="#disregard-parallels" class="anchor"></a>disregard.parallels</h3>
<p>This argument controls whether or not the presence of parallel arrays (in multi-branch analyses) should potentially lead to the invalidation of efficiency peers. This argument is a bit tough to explain in few words, so I recommend that you <a href="c-3_migration_efficiency.html#cjs-and-multiple-branches">have a look at how efficiency is calculated in migration()</a>.</p>
<p>Now that you know how to run the migration analysis, you may want to:</p>
<p><strong><a href="c-1_migration_processes.html">Learn more about what migration() is doing</a></strong></p>
<p><strong><a href="c-2_migration_results.html">Learn more about the results of migration()</a></strong></p>
<p><a href="#">Back to top.</a></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Hugo Flávio.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
